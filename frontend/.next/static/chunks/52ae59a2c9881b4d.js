(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63394,66027,e=>{"use strict";let t;e.i(47167);var s=e.i(932),r=e.i(75555),i=e.i(40143),n=e.i(86491),a=e.i(15823),l=e.i(93803),u=e.i(19273),o=e.i(80166),c=class extends a.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#s=(0,l.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#i=void 0;#n=void 0;#a;#l;#s;#t;#u;#o;#c;#h;#d;#m;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),h(this.#r,this.options)?this.#b():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#f(),this.#r.removeObserver(this)}setOptions(e){let t=this.options,s=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,u.resolveEnabled)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#g(),this.#r.setOptions(this.options),t._defaulted&&!(0,u.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let r=this.hasListeners();r&&m(this.#r,s,this.options,t)&&this.#b(),this.updateResult(),r&&(this.#r!==s||(0,u.resolveEnabled)(this.options.enabled,this.#r)!==(0,u.resolveEnabled)(t.enabled,this.#r)||(0,u.resolveStaleTime)(this.options.staleTime,this.#r)!==(0,u.resolveStaleTime)(t.staleTime,this.#r))&&this.#v();let i=this.#j();r&&(this.#r!==s||(0,u.resolveEnabled)(this.options.enabled,this.#r)!==(0,u.resolveEnabled)(t.enabled,this.#r)||i!==this.#m)&&this.#R(i)}getOptimisticResult(e){var t,s;let r=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(r,e);return t=this,s=i,(0,u.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#n=i,this.#l=this.options,this.#a=this.#r.state),i}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),t?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#s.status||this.#s.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#b({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#b(e){this.#g();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(u.noop)),t}#v(){this.#x();let e=(0,u.resolveStaleTime)(this.options.staleTime,this.#r);if(u.isServer||this.#n.isStale||!(0,u.isValidTimeout)(e))return;let t=(0,u.timeUntilStale)(this.#n.dataUpdatedAt,e);this.#h=o.timeoutManager.setTimeout(()=>{this.#n.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#R(e){this.#f(),this.#m=e,!u.isServer&&!1!==(0,u.resolveEnabled)(this.options.enabled,this.#r)&&(0,u.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#d=o.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#b()},this.#m))}#y(){this.#v(),this.#R(this.#j())}#x(){this.#h&&(o.timeoutManager.clearTimeout(this.#h),this.#h=void 0)}#f(){this.#d&&(o.timeoutManager.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){let s,r=this.#r,i=this.options,a=this.#n,o=this.#a,c=this.#l,d=e!==r?e.state:this.#i,{state:b}=e,y={...b},x=!1;if(t._optimisticResults){let s=this.hasListeners(),a=!s&&h(e,t),l=s&&m(e,r,t,i);(a||l)&&(y={...y,...(0,n.fetchState)(b.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:f,errorUpdatedAt:g,status:v}=y;s=y.data;let j=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===v){let e;a?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(e=a.data,j=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,void 0!==e&&(v="success",s=(0,u.replaceData)(a?.data,e,t),x=!0)}if(t.select&&void 0!==s&&!j)if(a&&s===o?.data&&t.select===this.#u)s=this.#o;else try{this.#u=t.select,s=t.select(s),s=(0,u.replaceData)(a?.data,s,t),this.#o=s,this.#t=null}catch(e){this.#t=e}this.#t&&(f=this.#t,s=this.#o,g=Date.now(),v="error");let R="fetching"===y.fetchStatus,w="pending"===v,S="error"===v,N=w&&R,C=void 0!==s,Q={status:v,fetchStatus:y.fetchStatus,isPending:w,isSuccess:"success"===v,isError:S,isInitialLoading:N,isLoading:N,data:s,dataUpdatedAt:y.dataUpdatedAt,error:f,errorUpdatedAt:g,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>d.dataUpdateCount||y.errorUpdateCount>d.errorUpdateCount,isFetching:R,isRefetching:R&&!w,isLoadingError:S&&!C,isPaused:"paused"===y.fetchStatus,isPlaceholderData:x,isRefetchError:S&&C,isStale:p(e,t),refetch:this.refetch,promise:this.#s,isEnabled:!1!==(0,u.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===Q.status?e.reject(Q.error):void 0!==Q.data&&e.resolve(Q.data)},s=()=>{t(this.#s=Q.promise=(0,l.pendingThenable)())},i=this.#s;switch(i.status){case"pending":e.queryHash===r.queryHash&&t(i);break;case"fulfilled":("error"===Q.status||Q.data!==i.value)&&s();break;case"rejected":("error"!==Q.status||Q.error!==i.reason)&&s()}}return Q}updateResult(){let e=this.#n,t=this.createResult(this.#r,this.options);if(this.#a=this.#r.state,this.#l=this.options,void 0!==this.#a.data&&(this.#c=this.#r),(0,u.shallowEqualObjects)(t,e))return;this.#n=t;let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#p.size)return!0;let r=new Set(s??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#n).some(t=>this.#n[t]!==e[t]&&r.has(t))};this.#w({listeners:s()})}#g(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#w(e){i.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function h(e,t){return!1!==(0,u.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,s){if(!1!==(0,u.resolveEnabled)(t.enabled,e)&&"static"!==(0,u.resolveStaleTime)(t.staleTime,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&p(e,t)}return!1}function m(e,t,s,r){return(e!==t||!1===(0,u.resolveEnabled)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&p(e,s)}function p(e,t){return!1!==(0,u.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,u.resolveStaleTime)(t.staleTime,e))}var b=e.i(71645),y=e.i(12598);e.i(43476);var x=b.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),f=b.createContext(!1);f.Provider;var g=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function v(e,t){return function(e,t,s){let r=b.useContext(f),n=b.useContext(x),a=(0,y.useQueryClient)(s),l=a.defaultQueryOptions(e);if(a.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=r?"isRestoring":"optimistic",l.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=l.staleTime;l.staleTime="function"==typeof t?(...s)=>e(t(...s)):e(t),"number"==typeof l.gcTime&&(l.gcTime=Math.max(l.gcTime,1e3))}(l.suspense||l.throwOnError||l.experimental_prefetchInRender)&&!n.isReset()&&(l.retryOnMount=!1),b.useEffect(()=>{n.clearReset()},[n]);let o=!a.getQueryCache().get(l.queryHash),[c]=b.useState(()=>new t(a,l)),h=c.getOptimisticResult(l),d=!r&&!1!==e.subscribed;if(b.useSyncExternalStore(b.useCallback(e=>{let t=d?c.subscribe(i.notifyManager.batchCalls(e)):u.noop;return c.updateResult(),t},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(l)},[l,c]),l?.suspense&&h.isPending)throw g(l,c,n);if((({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&void 0===e.data||(0,u.shouldThrowError)(s,[e.error,r])))({result:h,errorResetBoundary:n,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(l,h),l.experimental_prefetchInRender&&!u.isServer&&h.isLoading&&h.isFetching&&!r){let e=o?g(l,c,n):a.getQueryCache().get(l.queryHash)?.promise;e?.catch(u.noop).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?h:c.trackResult(h)}(e,c,t)}e.s(["useQuery",()=>v],66027);var j=e.i(25151);async function R(){return await (0,j.checkAuth)()}e.s(["useAuth",0,()=>{let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["auth","user"],queryFn:R,retry:!1,staleTime:3e5},t[0]=e):e=t[0],v(e)}],63394)},54616,e=>{"use strict";var t=e.i(71645),s=e.i(14272),r=e.i(40143),i=e.i(15823),n=e.i(19273),a=class extends i.Subscribable{#e;#n=void 0;#S;#N;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#C()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,n.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#S,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,n.hashKey)(t.mutationKey)!==(0,n.hashKey)(this.options.mutationKey)?this.reset():this.#S?.state.status==="pending"&&this.#S.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#S?.removeObserver(this)}onMutationUpdate(e){this.#C(),this.#w(e)}getCurrentResult(){return this.#n}reset(){this.#S?.removeObserver(this),this.#S=void 0,this.#C(),this.#w()}mutate(e,t){return this.#N=t,this.#S?.removeObserver(this),this.#S=this.#e.getMutationCache().build(this.#e,this.options),this.#S.addObserver(this),this.#S.execute(e)}#C(){let e=this.#S?.state??(0,s.getDefaultState)();this.#n={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#w(e){r.notifyManager.batch(()=>{if(this.#N&&this.hasListeners()){let t=this.#n.variables,s=this.#n.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#N.onSuccess?.(e.data,t,s,r),this.#N.onSettled?.(e.data,null,t,s,r)):e?.type==="error"&&(this.#N.onError?.(e.error,t,s,r),this.#N.onSettled?.(void 0,e.error,t,s,r))}this.listeners.forEach(e=>{e(this.#n)})})}},l=e.i(12598);function u(e,s){let i=(0,l.useQueryClient)(s),[u]=t.useState(()=>new a(i,e));t.useEffect(()=>{u.setOptions(e)},[u,e]);let o=t.useSyncExternalStore(t.useCallback(e=>u.subscribe(r.notifyManager.batchCalls(e)),[u]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),c=t.useCallback((e,t)=>{u.mutate(e,t).catch(n.noop)},[u]);if(o.error&&(0,n.shouldThrowError)(u.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}e.s(["useMutation",()=>u],54616)},49810,e=>{"use strict";var t=e.i(932),s=e.i(66027),r=e.i(25151);async function i(){return await (0,r.listVolumes)()}e.s(["useVolumes",0,()=>{let e,r=(0,t.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["volumes"],queryFn:i,staleTime:0},r[0]=e):e=r[0],(0,s.useQuery)(e)}])},31889,e=>{"use strict";var t=e.i(932),s=e.i(66027),r=e.i(54616),i=e.i(12598),n=e.i(25151);async function a(){return await (0,n.listSubmittedArticles)()}async function l(){return await (0,n.listPublishedArticles)()}function u(e){let{articleId:t,issueId:s}=e;return(0,n.publishArticle)(t,s)}function o(e){return(0,n.createAndPublishArticle)(e)}function c(e){let{articleId:t,data:s}=e;return(0,n.updateArticle)(t,s)}function h(e){return(0,n.deleteArticle)(e)}e.s(["useCreateAndPublishArticle",0,()=>{let e,s=(0,t.c)(2),n=(0,i.useQueryClient)();return s[0]!==n?(e={mutationFn:o,onSuccess:()=>{n.invalidateQueries({queryKey:["articles","published"]})}},s[0]=n,s[1]=e):e=s[1],(0,r.useMutation)(e)},"useDeleteArticle",0,()=>{let e,s=(0,t.c)(2),n=(0,i.useQueryClient)();return s[0]!==n?(e={mutationFn:h,onSuccess:()=>{n.invalidateQueries({queryKey:["articles","published"]}),n.invalidateQueries({queryKey:["articles","submitted"]})}},s[0]=n,s[1]=e):e=s[1],(0,r.useMutation)(e)},"usePublishArticle",0,()=>{let e,s=(0,t.c)(2),n=(0,i.useQueryClient)();return s[0]!==n?(e={mutationFn:u,onSuccess:()=>{n.invalidateQueries({queryKey:["articles","submitted"]}),n.invalidateQueries({queryKey:["articles","published"]})}},s[0]=n,s[1]=e):e=s[1],(0,r.useMutation)(e)},"usePublishedArticles",0,()=>{let e,r=(0,t.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["articles","published"],queryFn:l,staleTime:0},r[0]=e):e=r[0],(0,s.useQuery)(e)},"useSubmittedArticles",0,()=>{let e,r=(0,t.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["articles","submitted"],queryFn:a,staleTime:0},r[0]=e):e=r[0],(0,s.useQuery)(e)},"useUpdateArticle",0,()=>{let e,s=(0,t.c)(2),n=(0,i.useQueryClient)();return s[0]!==n?(e={mutationFn:c,onSuccess:()=>{n.invalidateQueries({queryKey:["articles","published"]}),n.invalidateQueries({queryKey:["articles","submitted"]})}},s[0]=n,s[1]=e):e=s[1],(0,r.useMutation)(e)}])},95187,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={callServer:function(){return n.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}};for(var i in r)Object.defineProperty(s,i,{enumerable:!0,get:r[i]});let n=e.r(32120),a=e.r(92245),l=e.r(35326)},34903,e=>{"use strict";var t=e.i(95187),s=(0,t.createServerReference)("40970c2075e74888b788b91d6535d7be88ac0bbbde",t.callServer,void 0,t.findSourceMapURL,"revalidateContent");e.s(["revalidateContent",()=>s])},58236,e=>{"use strict";var t=e.i(932),s=e.i(66027),r=e.i(54616),i=e.i(12598),n=e.i(25151);async function a(){return await (0,n.listDownloadRequests)()}function l(e){return(0,n.approveDownloadRequest)(e)}function u(e){return(0,n.denyDownloadRequest)(e)}e.s(["useApproveDownloadRequest",0,()=>{let e,s=(0,t.c)(2),n=(0,i.useQueryClient)();return s[0]!==n?(e={mutationFn:l,onSuccess:()=>{n.invalidateQueries({queryKey:["downloadRequests"]})}},s[0]=n,s[1]=e):e=s[1],(0,r.useMutation)(e)},"useDenyDownloadRequest",0,()=>{let e,s=(0,t.c)(2),n=(0,i.useQueryClient)();return s[0]!==n?(e={mutationFn:u,onSuccess:()=>{n.invalidateQueries({queryKey:["downloadRequests"]})}},s[0]=n,s[1]=e):e=s[1],(0,r.useMutation)(e)},"useDownloadRequests",0,()=>{let e,r=(0,t.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["downloadRequests"],queryFn:a,staleTime:0},r[0]=e):e=r[0],(0,s.useQuery)(e)}])},77844,e=>{"use strict";var t=e.i(43476),s=e.i(932),r=e.i(71645),i=e.i(22016),n=e.i(25151),a=e.i(34903),l=e.i(63394),u=e.i(49810),o=e.i(31889),c=e.i(58236);function h(){return window.history.back()}function d(e){return(0,t.jsxs)("option",{value:e.id,children:["Volume ",e.number]},e.id)}function m(e){return(0,t.jsx)("option",{value:e,children:e},e)}function p(e){return(0,t.jsx)("option",{value:e,children:e},e)}e.s(["default",0,()=>{let e,b,y,x,f,g,v,j,R,w,S,N,C,Q,I,O,_,T,M,E,F,q,A,D,k,P,U,K,L,V,W,B,J,H,z,$,Y,G,X,Z,ee,et,es=(0,s.c)(91),{data:er,isLoading:ei,error:en}=(0,l.useAuth)(),{data:ea,refetch:el}=(0,u.useVolumes)();es[0]!==ea?(e=void 0===ea?[]:ea,es[0]=ea,es[1]=e):e=es[1];let eu=e,{data:eo}=(0,o.useSubmittedArticles)(),{data:ec}=(0,o.usePublishedArticles)(),{data:eh}=(0,c.useDownloadRequests)();(0,o.usePublishArticle)(),(0,c.useApproveDownloadRequest)(),(0,c.useDenyDownloadRequest)();let[ed,em]=(0,r.useState)("");es[2]===Symbol.for("react.memo_cache_sentinel")?(b={volumeId:"",number:"",month:"",year:""},es[2]=b):b=es[2];let[ep,eb]=(0,r.useState)(b);(0,r.useState)(null),es[3]===Symbol.for("react.memo_cache_sentinel")?(y={},es[3]=y):y=es[3],(0,r.useState)(y);let[ey,ex]=(0,r.useState)(null),[ef,eg]=(0,r.useState)(null),[ev,ej]=(0,r.useState)(null);es[4]!==ed||es[5]!==el?(x=async e=>{e.preventDefault();let t=parseInt(ed,10);if(t)try{await (0,n.createVolume)(t),em(""),await (0,a.revalidateContent)("volumes"),el()}catch(e){console.error("Failed to create volume:",e),alert("Failed to create volume: "+e.message)}},es[4]=ed,es[5]=el,es[6]=x):x=es[6];let eR=x;es[7]!==ep||es[8]!==el?(f=async e=>{e.preventDefault();let{volumeId:t,number:s,month:r,year:i}=ep;if(t&&s&&r&&i)try{await (0,n.createIssue)(t,parseInt(s,10),r,parseInt(i,10)),eb({volumeId:"",number:"",month:"",year:""}),await (0,a.revalidateContent)("volumes"),el()}catch(e){console.error("Failed to create issue:",e),alert("Failed to create issue: "+e.message)}},es[7]=ep,es[8]=el,es[9]=f):f=es[9];let ew=f;es[10]!==el?(g=async(e,t)=>{try{await (0,n.updateVolume)(e,parseInt(t,10)),ex(null),await (0,a.revalidateContent)("volumes"),el()}catch(e){console.error("Failed to update volume:",e),alert("Failed to update volume: "+e.message)}},es[10]=el,es[11]=g):g=es[11];let eS=g;es[12]!==el?(v=async e=>{try{await (0,n.deleteVolume)(e),ej(null),await (0,a.revalidateContent)("volumes"),el()}catch(e){console.error("Failed to delete volume:",e),alert("Failed to delete volume: "+e.message)}},es[12]=el,es[13]=v):v=es[13];let eN=v;es[14]!==el?(j=async(e,t,s,r)=>{try{await (0,n.updateIssue)(e,parseInt(t,10),s,parseInt(r,10)),eg(null),await (0,a.revalidateContent)("volumes"),el()}catch(e){console.error("Failed to update issue:",e),alert("Failed to update issue: "+e.message)}},es[14]=el,es[15]=j):j=es[15];let eC=j;es[16]!==el?(R=async e=>{try{await (0,n.deleteIssue)(e),ej(null),await (0,a.revalidateContent)("volumes"),el()}catch(e){console.error("Failed to delete issue:",e),alert("Failed to delete issue: "+e.message)}},es[16]=el,es[17]=R):R=es[17];let eQ=R;if(ei){let e;return es[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"min-h-screen bg-white mt-16 py-8 px-5",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsx)("div",{className:"h-6 w-40 bg-gray-200 animate-pulse rounded mb-6"})})}),es[18]=e):e=es[18],e}if(en||!er){let e;return es[19]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"min-h-screen bg-white mt-16 py-8 px-5",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto text-center",children:"Please sign in."})}),es[19]=e):e=es[19],e}if("EDITOR"!==er.role){let e;return es[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"min-h-screen bg-white mt-16 py-8 px-5",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto text-center",children:"Forbidden. Editor access required."})}),es[20]=e):e=es[20],e}es[21]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Admin Panel"}),es[21]=w):w=es[21],es[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[w,(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 flex-wrap",children:[(0,t.jsx)(i.default,{href:"/admin/submitted",className:"px-4 py-2 rounded-lg bg-black text-white  transition-colors text-sm text-center",children:"Submitted Articles"}),(0,t.jsx)(i.default,{href:"/admin/published",className:"px-4 py-2 rounded-lg bg-black text-white  transition-colors text-sm text-center",children:"Published Articles"}),(0,t.jsx)(i.default,{href:"/admin/publish",className:"px-4 py-2 rounded-lg bg-[#083b7a] text-white hover:bg-[#0a4ea3] transition-colors text-sm text-center",children:"ðŸ“¨ Publish Articles"}),(0,t.jsx)(i.default,{href:"/admin/download-requests",className:"px-4 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700 transition-colors text-sm text-center",children:"ðŸ“¥ Full Access Requests"}),(0,t.jsx)("button",{onClick:h,className:"px-4 py-2 rounded-lg border border-gray-300 text-sm hover:bg-gray-50 transition-colors",children:"â† Back"})]})]}),es[22]=S):S=es[22],es[23]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Volumes & Issues Management"}),es[23]=N):N=es[23],es[24]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)("h3",{className:"font-medium mb-3 text-gray-700",children:"Add New Volume"}),es[24]=C):C=es[24],es[25]===Symbol.for("react.memo_cache_sentinel")?(Q=e=>em(e.target.value),es[25]=Q):Q=es[25],es[26]!==ed?(I=(0,t.jsx)("input",{type:"number",className:"flex-1 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]",placeholder:"Volume number",value:ed,onChange:Q}),es[26]=ed,es[27]=I):I=es[27],es[28]===Symbol.for("react.memo_cache_sentinel")?(O=(0,t.jsx)("button",{className:"px-4 py-2 rounded-lg bg-[#083b7a] text-white hover:bg-[#0a4ea3] transition-colors",children:"Add Volume"}),es[28]=O):O=es[28],es[29]!==eR||es[30]!==I?(_=(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:[C,(0,t.jsxs)("form",{onSubmit:eR,className:"flex gap-2",children:[I,O]})]}),es[29]=eR,es[30]=I,es[31]=_):_=es[31],es[32]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsx)("h3",{className:"font-medium mb-3 text-gray-700",children:"Add New Issue"}),es[32]=T):T=es[32];let eI=ep.volumeId;es[33]===Symbol.for("react.memo_cache_sentinel")?(M=e=>eb(t=>({...t,volumeId:e.target.value})),E=(0,t.jsx)("option",{value:"",children:"Select Volume"}),es[33]=M,es[34]=E):(M=es[33],E=es[34]),es[35]!==eu?(F=eu.map(d),es[35]=eu,es[36]=F):F=es[36],es[37]!==ep.volumeId||es[38]!==F?(q=(0,t.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]",value:eI,onChange:M,children:[E,F]}),es[37]=ep.volumeId,es[38]=F,es[39]=q):q=es[39],es[40]===Symbol.for("react.memo_cache_sentinel")?(A=e=>eb(t=>({...t,number:e.target.value})),es[40]=A):A=es[40],es[41]!==ep.number?(D=(0,t.jsx)("input",{type:"number",className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]",placeholder:"Issue #",value:ep.number,onChange:A}),es[41]=ep.number,es[42]=D):D=es[42];let eO=ep.month;if(es[43]===Symbol.for("react.memo_cache_sentinel")?(k=e=>eb(t=>({...t,month:e.target.value})),P=(0,t.jsx)("option",{value:"",children:"Month"}),U=["January","February","March","April","May","June","July","August","September","October","November","December"].map(m),es[43]=k,es[44]=P,es[45]=U):(k=es[43],P=es[44],U=es[45]),es[46]!==ep.month?(K=(0,t.jsxs)("select",{className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]",value:eO,onChange:k,children:[P,U]}),es[46]=ep.month,es[47]=K):K=es[47],es[48]===Symbol.for("react.memo_cache_sentinel")?(L=e=>eb(t=>({...t,year:e.target.value})),es[48]=L):L=es[48],es[49]!==ep.year?(V=(0,t.jsx)("input",{type:"number",className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]",placeholder:"Year",value:ep.year,onChange:L}),es[49]=ep.year,es[50]=V):V=es[50],es[51]!==D||es[52]!==K||es[53]!==V?(W=(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[D,K,V]}),es[51]=D,es[52]=K,es[53]=V,es[54]=W):W=es[54],es[55]===Symbol.for("react.memo_cache_sentinel")?(B=(0,t.jsx)("button",{className:"w-full px-4 py-2 rounded-lg bg-[#083b7a] text-white hover:bg-[#0a4ea3] transition-colors",children:"Add Issue"}),es[55]=B):B=es[55],es[56]!==ew||es[57]!==q||es[58]!==W?(J=(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:[T,(0,t.jsxs)("form",{onSubmit:ew,className:"space-y-3",children:[q,W,B]})]}),es[56]=ew,es[57]=q,es[58]=W,es[59]=J):J=es[59],es[60]===Symbol.for("react.memo_cache_sentinel")?(H=(0,t.jsx)("h3",{className:"font-medium text-gray-700 p-4 bg-gray-100 border-b",children:"Existing Volumes"}),es[60]=H):H=es[60],es[61]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Volume Number"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Issues"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"Actions"})]})}),es[61]=z):z=es[61],es[62]!==ef||es[63]!==ey||es[64]!==eC||es[65]!==eS||es[66]!==eu){let e;es[68]!==ef||es[69]!==ey||es[70]!==eC||es[71]!==eS?(e=e=>(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:ey?.id===e.id?(0,t.jsx)("input",{type:"number",className:"border rounded px-2 py-1 w-24",value:ey.number,onChange:e=>ex({...ey,number:e.target.value})}):(0,t.jsxs)("span",{className:"font-semibold text-gray-800",children:["Volume ",e.number]})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-600",children:[e.issues?.length||0," issue(s)"]}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("div",{className:"flex gap-2 justify-end",children:ey?.id===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>eS(e.id,ey.number),className:"px-3 py-1 text-sm rounded bg-green-600 text-white hover:bg-green-700",children:"Save"}),(0,t.jsx)("button",{onClick:()=>ex(null),className:"px-3 py-1 text-sm rounded bg-gray-500 text-white hover:bg-gray-600",children:"Cancel"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>ex({id:e.id,number:e.number}),className:"px-3 py-1 text-sm rounded bg-blue-600 text-white hover:bg-blue-700",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>ej({type:"volume",id:e.id,name:`Volume ${e.number}`,issueCount:e.issues?.length||0}),className:"px-3 py-1 text-sm rounded bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})})})]}),e.issues&&e.issues.length>0&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:"3",className:"px-4 py-2 bg-gray-50",children:(0,t.jsx)("div",{className:"ml-8",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600",children:"Issue #"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600",children:"Month"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600",children:"Year"}),(0,t.jsx)("th",{className:"px-4 py-2 text-right text-xs font-semibold text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:e.issues.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,t.jsx)("td",{className:"px-4 py-2",children:ef?.id===e.id?(0,t.jsx)("input",{type:"number",className:"border rounded px-2 py-1 w-20",value:ef.number,onChange:e=>eg({...ef,number:e.target.value})}):(0,t.jsxs)("span",{className:"text-sm",children:["#",e.number]})}),(0,t.jsx)("td",{className:"px-4 py-2",children:ef?.id===e.id?(0,t.jsx)("select",{className:"border rounded px-2 py-1",value:ef.month,onChange:e=>eg({...ef,month:e.target.value}),children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(p)}):(0,t.jsx)("span",{className:"text-sm",children:e.month})}),(0,t.jsx)("td",{className:"px-4 py-2",children:ef?.id===e.id?(0,t.jsx)("input",{type:"number",className:"border rounded px-2 py-1 w-24",value:ef.year,onChange:e=>eg({...ef,year:e.target.value})}):(0,t.jsx)("span",{className:"text-sm",children:e.year})}),(0,t.jsx)("td",{className:"px-4 py-2 text-right",children:(0,t.jsx)("div",{className:"flex gap-2 justify-end",children:ef?.id===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>eC(e.id,ef.number,ef.month,ef.year),className:"px-2 py-1 text-xs rounded bg-green-600 text-white hover:bg-green-700",children:"Save"}),(0,t.jsx)("button",{onClick:()=>eg(null),className:"px-2 py-1 text-xs rounded bg-gray-500 text-white hover:bg-gray-600",children:"Cancel"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>eg({id:e.id,number:e.number,month:e.month,year:e.year}),className:"px-2 py-1 text-xs rounded bg-blue-600 text-white hover:bg-blue-700",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>ej({type:"issue",id:e.id,name:`Issue #${e.number} (${e.month} ${e.year})`}),className:"px-2 py-1 text-xs rounded bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})})})]},e.id))})]})})})})]},e.id),es[68]=ef,es[69]=ey,es[70]=eC,es[71]=eS,es[72]=e):e=es[72],$=eu.map(e),es[62]=ef,es[63]=ey,es[64]=eC,es[65]=eS,es[66]=eu,es[67]=$}else $=es[67];return es[73]!==$?(Y=(0,t.jsxs)("table",{className:"w-full",children:[z,(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:$})]}),es[73]=$,es[74]=Y):Y=es[74],es[75]!==eu.length?(G=0===eu.length&&(0,t.jsx)("div",{className:"text-center text-gray-500 py-8",children:"No volumes created yet"}),es[75]=eu.length,es[76]=G):G=es[76],es[77]!==Y||es[78]!==G?(X=(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[H,(0,t.jsxs)("div",{className:"overflow-x-auto",children:[Y,G]})]}),es[77]=Y,es[78]=G,es[79]=X):X=es[79],es[80]!==_||es[81]!==J||es[82]!==X?(Z=(0,t.jsx)("div",{className:"grid gap-8",children:(0,t.jsxs)("section",{className:"bg-gray-50 w-full rounded-lg p-6",children:[N,_,J,X]})}),es[80]=_,es[81]=J,es[82]=X,es[83]=Z):Z=es[83],es[84]!==ev||es[85]!==eQ||es[86]!==eN?(ee=ev&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-center text-gray-900 mb-2",children:"Confirm Deletion"}),(0,t.jsxs)("p",{className:"text-center text-gray-600 mb-4",children:["Are you sure you want to delete ",(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:ev.name}),"?"]}),"volume"===ev.type&&ev.issueCount>0&&(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:["âš ï¸ This will also delete ",(0,t.jsxs)("span",{className:"font-semibold",children:[ev.issueCount," issue(s)"]})," associated with this volume."]})}),(0,t.jsx)("p",{className:"text-center text-sm text-gray-500 mb-6",children:"This action cannot be undone."}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>ej(null),className:"flex-1 px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300 transition-colors font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{"volume"===ev.type?eN(ev.id):eQ(ev.id)},className:"flex-1 px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors font-medium",children:"Delete"})]})]})}),es[84]=ev,es[85]=eQ,es[86]=eN,es[87]=ee):ee=es[87],es[88]!==Z||es[89]!==ee?(et=(0,t.jsx)("div",{className:"min-h-screen w-full text-justify text-black bg-white mt-16 py-8 px-5",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[S,Z,ee]})}),es[88]=Z,es[89]=ee,es[90]=et):et=es[90],et}])}]);