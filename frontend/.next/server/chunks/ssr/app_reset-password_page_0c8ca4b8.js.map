{"version":3,"sources":["turbopack:///[project]/app/reset-password/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, Suspense } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { resetPassword } from \"../../utils/api\";\nimport Link from \"next/link\";\n\nconst ResetPasswordContent = () => {\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [message, setMessage] = useState(null);\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const router = useRouter();\n    const searchParams = useSearchParams();\n    const token = searchParams.get(\"token\");\n\n    useEffect(() => {\n        if (!token) {\n            setError(\"Invalid or missing reset token.\");\n        }\n    }, [token]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError(null);\n        setMessage(null);\n\n        if (password !== confirmPassword) {\n            setError(\"Passwords do not match.\");\n            return;\n        }\n\n        if (password.length < 6) {\n            setError(\"Password must be at least 6 characters long.\");\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const response = await resetPassword(token, password);\n            setMessage(response.message);\n            setTimeout(() => {\n                router.push(\"/auth/signin\");\n            }, 3000);\n        } catch (error) {\n            setError(error.response?.data?.message || \"Something went wrong. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"flex items-center justify-center min-h-screen bg-white pt-16\">\n            <div className=\"w-full max-w-md p-8 space-y-6 bg-white scale-90 text-black rounded-xl shadow-xl border border-[#0a4ea3]/20\">\n                <div className=\"text-center\">\n                    <h1 className=\"text-3xl font-bold text-[#083b7a] mb-2\">Reset Password</h1>\n                    <p className=\"text-gray-600\">Enter your new password below</p>\n                </div>\n\n                {message ? (\n                    <div className=\"space-y-4\">\n                        <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n                            <p className=\"text-sm text-green-700 font-medium\">{message}</p>\n                            <p className=\"text-xs text-green-600 mt-2\">Redirecting to sign in page...</p>\n                        </div>\n                    </div>\n                ) : (\n                    <form onSubmit={handleSubmit} className=\"space-y-6\">\n                        <div>\n                            <label htmlFor=\"password\" name=\"new-password\" id=\"new-password-label\" className=\"block text-sm font-semibold text-[#083b7a] mb-2\">\n                                New Password\n                            </label>\n                            <input\n                                id=\"password\"\n                                type=\"password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                                required\n                                disabled={!token}\n                                className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-[#0a4ea3] focus:border-[#0a4ea3] transition-colors disabled:bg-gray-100\"\n                                placeholder=\"Enter new password\"\n                            />\n                        </div>\n\n                        <div>\n                            <label htmlFor=\"confirmPassword\" name=\"confirm-password\" id=\"confirm-password-label\" className=\"block text-sm font-semibold text-[#083b7a] mb-2\">\n                                Confirm New Password\n                            </label>\n                            <input\n                                id=\"confirmPassword\"\n                                type=\"password\"\n                                value={confirmPassword}\n                                onChange={(e) => setConfirmPassword(e.target.value)}\n                                required\n                                disabled={!token}\n                                className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-[#0a4ea3] focus:border-[#0a4ea3] transition-colors disabled:bg-gray-100\"\n                                placeholder=\"Confirm new password\"\n                            />\n                        </div>\n\n                        {error && (\n                            <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n                                <p className=\"text-sm text-red-600\">{error}</p>\n                            </div>\n                        )}\n\n                        <div>\n                            <button\n                                type=\"submit\"\n                                disabled={loading || !token}\n                                className=\"w-full px-4 py-3 font-semibold text-white bg-gradient-to-r from-[#083b7a] to-[#0a4ea3] rounded-lg hover:from-[#083b7a]/90 hover:to-[#0a4ea3]/90 focus:outline-none focus:ring-2 focus:ring-[#0a4ea3] focus:ring-offset-2 transition-all duration-200 shadow-lg disabled:opacity-50\"\n                            >\n                                {loading ? \"Resetting...\" : \"Reset Password\"}\n                            </button>\n                        </div>\n                    </form>\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst ResetPasswordPage = () => {\n    return (\n        <Suspense fallback={\n            <div className=\"flex items-center justify-center min-h-screen bg-white pt-16\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#083b7a]\"></div>\n            </div>\n        }>\n            <ResetPasswordContent />\n        </Suspense>\n    );\n};\n\nexport default ResetPasswordPage;\n"],"names":[],"mappings":"wDACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAuB,KACzB,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEjC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EADe,AACP,CADO,EAAA,EAAA,eAAA,AAAe,IACT,GAAG,CAAC,SAE/B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACF,AAAC,GACD,EAAS,EADD,gCAGhB,EAAG,CAAC,EAAM,EAEV,IAAM,EAAe,MAAO,IAKxB,GAJA,EAAE,cAAc,GAChB,EAAS,MACT,EAAW,MAEP,IAAa,EAAiB,YAC9B,EAAS,2BAIb,GAAI,EAAS,MAAM,CAAG,EAAG,YACrB,EAAS,gDAIb,GAAW,GACX,GAAI,CACA,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,EAAO,GAC5C,EAAW,EAAS,OAAO,EAC3B,WAAW,KACP,EAAO,IAAI,CAAC,eAChB,EAAG,IACP,CAAE,MAAO,EAAO,CACZ,EAAS,EAAM,QAAQ,EAAE,MAAM,SAAW,0CAC9C,QAAU,CACN,GAAW,EACf,CACJ,EAEA,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uHACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAAyC,mBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,qCAGhC,EACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAsC,IACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,wCAInD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,WAAW,KAAK,eAAe,GAAG,qBAAqB,UAAU,2DAAkD,iBAGlI,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,GAAG,WACH,KAAK,WACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,QAAQ,CAAA,CAAA,EACR,SAAU,CAAC,EACX,UAAU,iKACV,YAAY,0BAIpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,kBAAkB,KAAK,mBAAmB,GAAG,yBAAyB,UAAU,2DAAkD,yBAGjJ,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,GAAG,kBACH,KAAK,WACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,QAAQ,CAAA,CAAA,EACR,SAAU,CAAC,EACX,UAAU,iKACV,YAAY,4BAInB,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAwB,MAI7C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACG,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,SAAU,GAAW,CAAC,EACtB,UAAU,8RAET,EAAU,eAAiB,4BAQ5D,mBAE0B,IAElB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SACN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0FAGnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA"}