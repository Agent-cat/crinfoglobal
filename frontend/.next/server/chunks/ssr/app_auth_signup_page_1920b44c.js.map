{"version":3,"sources":["turbopack:///[project]/app/auth/signup/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { signup, verifyOTP, resendOTP } from \"../../../utils/api\";\nimport authEvents from \"../../../utils/authEvents\";\nimport Link from \"next/link\";\n\nconst SignupPage = () => {\n  const [email, setEmail] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [isVerifying, setIsVerifying] = useState(false);\n  const [isResending, setIsResending] = useState(false);\n  const [isSigningUp, setIsSigningUp] = useState(false);\n  const [showOTPForm, setShowOTPForm] = useState(false);\n  const [otpSent, setOtpSent] = useState(false);\n  const router = useRouter();\n\n  const handleSignup = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setIsSigningUp(true);\n    try {\n      const response = await signup(email, userName, password);\n      setSuccess(response.message);\n      setShowOTPForm(true);\n      setOtpSent(true);\n    } catch (error) {\n      setError(error.response?.data?.message || \"Signup failed\");\n    } finally {\n      setIsSigningUp(false);\n    }\n  };\n\n  const handleVerifyOTP = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setIsVerifying(true);\n    try {\n      const response = await verifyOTP(email, otp);\n      authEvents.dispatch('loginSuccess', response.data);\n      router.push(\"/\");\n      router.refresh();\n    } catch (error) {\n      setError(error.response?.data?.message || \"OTP verification failed\");\n    } finally {\n      setIsVerifying(false);\n    }\n  };\n\n  const handleResendOTP = async () => {\n    setError(null);\n    setIsResending(true);\n    try {\n      await resendOTP(email);\n      setSuccess(\"OTP sent successfully. Please check your email.\");\n    } catch (error) {\n      setError(error.response?.data?.message || \"Failed to resend OTP\");\n    } finally {\n      setIsResending(false);\n    }\n  };\n\n  if (showOTPForm) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-white pt-16\">\n        <div className=\"w-full scale-90 text-black max-w-md p-8 space-y-6 bg-white rounded-xl shadow-xl border border-[#0a4ea3]/20\">\n          <div className=\"text-center\">\n            <h1 className=\"text-3xl font-bold text-[#083b7a] mb-2\">Verify Email</h1>\n            <p className=\"text-gray-600\">Enter the verification code sent to {email}</p>\n          </div>\n          <form onSubmit={handleVerifyOTP} className=\"space-y-6\">\n            <div>\n              <label\n                htmlFor=\"otp\"\n                className=\"block text-sm font-semibold text-[#083b7a] mb-2\"\n              >\n                Verification Code\n              </label>\n              <input\n                id=\"otp\"\n                type=\"text\"\n                value={otp}\n                onChange={(e) => setOtp(e.target.value)}\n                required\n                maxLength=\"6\"\n                className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-[#0a4ea3] focus:border-[#0a4ea3] transition-colors text-center text-lg tracking-widest\"\n                placeholder=\"Enter 6-digit code\"\n              />\n            </div>\n            {error && (\n              <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n                <p className=\"text-sm text-red-600\">{error}</p>\n              </div>\n            )}\n            {success && (\n              <div className=\"p-3 bg-green-50 border border-green-200 rounded-lg\">\n                <p className=\"text-sm text-green-600\">{success}</p>\n              </div>\n            )}\n            <div className=\"space-y-3\">\n              <button\n                type=\"submit\"\n                disabled={isVerifying}\n                className=\"w-full px-4 py-3 font-semibold text-white bg-gradient-to-r from-[#083b7a] to-[#0a4ea3] rounded-lg hover:from-[#083b7a]/90 hover:to-[#0a4ea3]/90 focus:outline-none focus:ring-2 focus:ring-[#0a4ea3] focus:ring-offset-2 transition-all duration-200 shadow-lg disabled:opacity-50\"\n              >\n                {isVerifying ? \"Verifying...\" : \" Verify OTP\"}\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleResendOTP}\n                disabled={isResending}\n                className=\"w-full px-4 py-2 text-sm font-medium text-[#0a4ea3] border border-[#0a4ea3] rounded-lg hover:bg-[#0a4ea3] hover:text-white focus:outline-none focus:ring-2 focus:ring-[#0a4ea3] focus:ring-offset-2 transition-all duration-200 disabled:opacity-50\"\n              >\n                {isResending ? \"Sending...\" : \"Resend Code\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-white pt-16\">\n      <div className=\"w-full scale-90 text-black max-w-md p-8 space-y-6 bg-white rounded-xl shadow-xl border border-[#0a4ea3]/20\">\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-bold text-[#083b7a] mb-2\">Sign Up</h1>\n          <p className=\"text-gray-600\">Join crinfoglobal today</p>\n        </div>\n        <form onSubmit={handleSignup} className=\"space-y-6\">\n          <div>\n            <label\n              htmlFor=\"userName\"\n              className=\"block text-sm font-semibold text-[#083b7a] mb-2\"\n            >\n              Username\n            </label>\n            <input\n              id=\"userName\"\n              type=\"text\"\n              value={userName}\n              onChange={(e) => setUserName(e.target.value)}\n              required\n              className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-[#0a4ea3] focus:border-[#0a4ea3] transition-colors\"\n              placeholder=\"Choose a username\"\n            />\n          </div>\n          <div>\n            <label\n              htmlFor=\"email\"\n              className=\"block text-sm font-semibold text-[#083b7a] mb-2\"\n            >\n              Email Address\n            </label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-[#0a4ea3] focus:border-[#0a4ea3] transition-colors\"\n              placeholder=\"Enter your email\"\n            />\n          </div>\n          <div>\n            <label\n              htmlFor=\"password\"\n              className=\"block text-sm font-semibold text-[#083b7a] mb-2\"\n            >\n              Password\n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n              className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-[#0a4ea3] focus:border-[#0a4ea3] transition-colors\"\n              placeholder=\"Create a password\"\n            />\n          </div>\n          {error && (\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-sm text-red-600\">{error}</p>\n            </div>\n          )}\n          <div>\n            <button\n              type=\"submit\"\n              disabled={isSigningUp}\n              className=\"w-full px-4 py-3 font-semibold text-white bg-gradient-to-r from-[#083b7a] to-[#0a4ea3] rounded-lg hover:from-[#083b7a]/90 hover:to-[#0a4ea3]/90 focus:outline-none focus:ring-2 focus:ring-[#0a4ea3] focus:ring-offset-2 transition-all duration-200 shadow-lg disabled:opacity-50\"\n            >\n              {isSigningUp ? \"Sending OTP...\" : \"ðŸ“§ Send OTP\"}\n            </button>\n          </div>\n        </form>\n        <div className=\"text-center\">\n          <p className=\"text-gray-600\">\n            Already have an account?{\" \"}\n            <Link href=\"/auth/signin\" className=\"text-[#0a4ea3] hover:text-[#083b7a] font-semibold transition-colors\">\n              Sign in here\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignupPage;\n\n"],"names":[],"mappings":"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"}