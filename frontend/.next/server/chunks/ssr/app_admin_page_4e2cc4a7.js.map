{"version":3,"sources":["turbopack:///[project]/app/admin/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { createVolume, createIssue, updateVolume, deleteVolume, updateIssue, deleteIssue } from '../../utils/api';\nimport { revalidateContent } from '../actions';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useVolumes } from '../../hooks/useVolumes';\nimport { useSubmittedArticles, usePublishedArticles, usePublishArticle } from '../../hooks/useArticles';\nimport { useDownloadRequests, useApproveDownloadRequest, useDenyDownloadRequest } from '../../hooks/useDownloadRequests';\n\nconst AdminPage = () => {\n  // TanStack Query hooks\n  const { data: user, isLoading: authLoading, error: authError } = useAuth();\n  const { data: volumes = [], isLoading: volumesLoading, refetch: refetchVolumes } = useVolumes();\n  const { data: submittedArticles = [], isLoading: submittedLoading } = useSubmittedArticles();\n  const { data: publishedArticles = [], isLoading: publishedLoading } = usePublishedArticles();\n  const { data: downloadRequests = [], isLoading: downloadLoading } = useDownloadRequests();\n\n  const publishArticleMutation = usePublishArticle();\n  const approveDownloadMutation = useApproveDownloadRequest();\n  const denyDownloadMutation = useDenyDownloadRequest();\n\n  // Local state\n  const [newVolumeNumber, setNewVolumeNumber] = useState('');\n  const [newIssue, setNewIssue] = useState({ volumeId: '', number: '', month: '', year: '' });\n  const [expandedArticleId, setExpandedArticleId] = useState(null);\n  const [publishing, setPublishing] = useState({});\n  const [editingVolume, setEditingVolume] = useState(null);\n  const [editingIssue, setEditingIssue] = useState(null);\n  const [deleteConfirm, setDeleteConfirm] = useState(null); // { type: 'volume'|'issue', id: string, name: string }\n\n  const handleCreateVolume = async (e) => {\n    e.preventDefault();\n    const num = parseInt(newVolumeNumber, 10);\n    if (!num) return;\n    try {\n      await createVolume(num);\n      setNewVolumeNumber('');\n      await revalidateContent('volumes');\n      refetchVolumes();\n    } catch (error) {\n      console.error('Failed to create volume:', error);\n      alert('Failed to create volume: ' + error.message);\n    }\n  };\n\n  const handleCreateIssue = async (e) => {\n    e.preventDefault();\n    const { volumeId, number, month, year } = newIssue;\n    if (!volumeId || !number || !month || !year) return;\n    try {\n      await createIssue(volumeId, parseInt(number, 10), month, parseInt(year, 10));\n      setNewIssue({ volumeId: '', number: '', month: '', year: '' });\n      await revalidateContent('volumes');\n      refetchVolumes();\n    } catch (error) {\n      console.error('Failed to create issue:', error);\n      alert('Failed to create issue: ' + error.message);\n    }\n  };\n\n  const handlePublish = async (articleId, issueId) => {\n    try {\n      await publishArticleMutation.mutateAsync({ articleId, issueId });\n      await revalidateContent('articles');\n      await revalidateContent('volumes');\n    } catch (error) {\n      console.error('Failed to publish article:', error);\n    }\n  };\n\n  const handleUpdateVolume = async (volumeId, number) => {\n    try {\n      await updateVolume(volumeId, parseInt(number, 10));\n      setEditingVolume(null);\n      await revalidateContent('volumes');\n      refetchVolumes();\n    } catch (error) {\n      console.error('Failed to update volume:', error);\n      alert('Failed to update volume: ' + error.message);\n    }\n  };\n\n  const handleDeleteVolume = async (volumeId) => {\n    try {\n      await deleteVolume(volumeId);\n      setDeleteConfirm(null);\n      await revalidateContent('volumes');\n      refetchVolumes();\n    } catch (error) {\n      console.error('Failed to delete volume:', error);\n      alert('Failed to delete volume: ' + error.message);\n    }\n  };\n\n  const handleUpdateIssue = async (issueId, number, month, year) => {\n    try {\n      await updateIssue(issueId, parseInt(number, 10), month, parseInt(year, 10));\n      setEditingIssue(null);\n      await revalidateContent('volumes');\n      refetchVolumes();\n    } catch (error) {\n      console.error('Failed to update issue:', error);\n      alert('Failed to update issue: ' + error.message);\n    }\n  };\n\n  const handleDeleteIssue = async (issueId) => {\n    try {\n      await deleteIssue(issueId);\n      setDeleteConfirm(null);\n      await revalidateContent('volumes');\n      refetchVolumes();\n    } catch (error) {\n      console.error('Failed to delete issue:', error);\n      alert('Failed to delete issue: ' + error.message);\n    }\n  };\n\n  // Loading states\n  if (authLoading) {\n    return <div className=\"min-h-screen bg-white mt-16 py-8 px-5\"><div className=\"max-w-4xl mx-auto\"><div className=\"h-6 w-40 bg-gray-200 animate-pulse rounded mb-6\" /></div></div>;\n  }\n\n  if (authError || !user) {\n    return <div className=\"min-h-screen bg-white mt-16 py-8 px-5\"><div className=\"max-w-2xl mx-auto text-center\">Please sign in.</div></div>;\n  }\n\n  if (user.role !== 'EDITOR') {\n    return <div className=\"min-h-screen bg-white mt-16 py-8 px-5\"><div className=\"max-w-2xl mx-auto text-center\">Forbidden. Editor access required.</div></div>;\n  }\n\n  return (\n    <div className=\"min-h-screen w-full text-justify text-black bg-white mt-16 py-8 px-5\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-2xl md:text-3xl font-bold\">Admin Panel</h1>\n          <div className=\"flex flex-col sm:flex-row gap-3 flex-wrap\">\n            <Link href=\"/admin/submitted\" className=\"px-4 py-2 rounded-lg bg-black text-white  transition-colors text-sm text-center\">\n              Submitted Articles\n            </Link>\n            <Link href=\"/admin/published\" className=\"px-4 py-2 rounded-lg bg-black text-white  transition-colors text-sm text-center\">\n              Published Articles\n            </Link>\n            <Link href=\"/admin/publish\" className=\"px-4 py-2 rounded-lg bg-[#083b7a] text-white hover:bg-[#0a4ea3] transition-colors text-sm text-center\">\n              üì® Publish Articles\n            </Link>\n            <Link href=\"/admin/download-requests\" className=\"px-4 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700 transition-colors text-sm text-center\">\n              üì• Full Access Requests\n            </Link>\n            <button onClick={() => window.history.back()} className=\"px-4 py-2 rounded-lg border border-gray-300 text-sm hover:bg-gray-50 transition-colors\">\n              ‚Üê Back\n            </button>\n          </div>\n        </div>\n\n        <div className=\"grid gap-8\">\n          {/* Volumes & Issues Section */}\n          <section className=\"bg-gray-50 w-full rounded-lg p-6\">\n            <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Volumes & Issues Management</h2>\n\n            {/* Add Volume Form */}\n            <div className=\"bg-white rounded-lg p-4 mb-6 shadow-sm\">\n              <h3 className=\"font-medium mb-3 text-gray-700\">Add New Volume</h3>\n              <form onSubmit={handleCreateVolume} className=\"flex gap-2\">\n                <input\n                  type=\"number\"\n                  className=\"flex-1 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                  placeholder=\"Volume number\"\n                  value={newVolumeNumber}\n                  onChange={(e) => setNewVolumeNumber(e.target.value)}\n                />\n                <button className=\"px-4 py-2 rounded-lg bg-[#083b7a] text-white hover:bg-[#0a4ea3] transition-colors\">\n                  Add Volume\n                </button>\n              </form>\n            </div>\n\n            {/* Add Issue Form */}\n            <div className=\"bg-white rounded-lg p-4 mb-6 shadow-sm\">\n              <h3 className=\"font-medium mb-3 text-gray-700\">Add New Issue</h3>\n              <form onSubmit={handleCreateIssue} className=\"space-y-3\">\n                <select\n                  className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                  value={newIssue.volumeId}\n                  onChange={(e) => setNewIssue(s => ({ ...s, volumeId: e.target.value }))}\n                >\n                  <option value=\"\">Select Volume</option>\n                  {volumes.map(v => <option key={v.id} value={v.id}>Volume {v.number}</option>)}\n                </select>\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2\">\n                  <input\n                    type=\"number\"\n                    className=\"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    placeholder=\"Issue #\"\n                    value={newIssue.number}\n                    onChange={(e) => setNewIssue(s => ({ ...s, number: e.target.value }))}\n                  />\n                  <select\n                    className=\"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    value={newIssue.month}\n                    onChange={(e) => setNewIssue(s => ({ ...s, month: e.target.value }))}\n                  >\n                    <option value=\"\">Month</option>\n                    {['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'].map(m => (\n                      <option key={m} value={m}>{m}</option>\n                    ))}\n                  </select>\n                  <input\n                    type=\"number\"\n                    className=\"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    placeholder=\"Year\"\n                    value={newIssue.year}\n                    onChange={(e) => setNewIssue(s => ({ ...s, year: e.target.value }))}\n                  />\n                </div>\n                <button className=\"w-full px-4 py-2 rounded-lg bg-[#083b7a] text-white hover:bg-[#0a4ea3] transition-colors\">\n                  Add Issue\n                </button>\n              </form>\n            </div>\n\n            {/* Volumes Table */}\n            <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\n              <h3 className=\"font-medium text-gray-700 p-4 bg-gray-100 border-b\">Existing Volumes</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gray-50 border-b\">\n                    <tr>\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">Volume Number</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">Issues</th>\n                      <th className=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-gray-200\">\n                    {volumes.map(v => (\n                      <React.Fragment key={v.id}>\n                        <tr className=\"hover:bg-gray-50\">\n                          <td className=\"px-4 py-3\">\n                            {editingVolume?.id === v.id ? (\n                              <input\n                                type=\"number\"\n                                className=\"border rounded px-2 py-1 w-24\"\n                                value={editingVolume.number}\n                                onChange={(e) => setEditingVolume({ ...editingVolume, number: e.target.value })}\n                              />\n                            ) : (\n                              <span className=\"font-semibold text-gray-800\">Volume {v.number}</span>\n                            )}\n                          </td>\n                          <td className=\"px-4 py-3 text-sm text-gray-600\">\n                            {v.issues?.length || 0} issue(s)\n                          </td>\n                          <td className=\"px-4 py-3 text-right\">\n                            <div className=\"flex gap-2 justify-end\">\n                              {editingVolume?.id === v.id ? (\n                                <>\n                                  <button\n                                    onClick={() => handleUpdateVolume(v.id, editingVolume.number)}\n                                    className=\"px-3 py-1 text-sm rounded bg-green-600 text-white hover:bg-green-700\"\n                                  >\n                                    Save\n                                  </button>\n                                  <button\n                                    onClick={() => setEditingVolume(null)}\n                                    className=\"px-3 py-1 text-sm rounded bg-gray-500 text-white hover:bg-gray-600\"\n                                  >\n                                    Cancel\n                                  </button>\n                                </>\n                              ) : (\n                                <>\n                                  <button\n                                    onClick={() => setEditingVolume({ id: v.id, number: v.number })}\n                                    className=\"px-3 py-1 text-sm rounded bg-blue-600 text-white hover:bg-blue-700\"\n                                  >\n                                    Edit\n                                  </button>\n                                  <button\n                                    onClick={() => setDeleteConfirm({ type: 'volume', id: v.id, name: `Volume ${v.number}`, issueCount: v.issues?.length || 0 })}\n                                    className=\"px-3 py-1 text-sm rounded bg-red-600 text-white hover:bg-red-700\"\n                                  >\n                                    Delete\n                                  </button>\n                                </>\n                              )}\n                            </div>\n                          </td>\n                        </tr>\n                        {/* Issues sub-table */}\n                        {v.issues && v.issues.length > 0 && (\n                          <tr>\n                            <td colSpan=\"3\" className=\"px-4 py-2 bg-gray-50\">\n                              <div className=\"ml-8\">\n                                <table className=\"w-full\">\n                                  <thead>\n                                    <tr className=\"border-b border-gray-300\">\n                                      <th className=\"px-4 py-2 text-left text-xs font-semibold text-gray-600\">Issue #</th>\n                                      <th className=\"px-4 py-2 text-left text-xs font-semibold text-gray-600\">Month</th>\n                                      <th className=\"px-4 py-2 text-left text-xs font-semibold text-gray-600\">Year</th>\n                                      <th className=\"px-4 py-2 text-right text-xs font-semibold text-gray-600\">Actions</th>\n                                    </tr>\n                                  </thead>\n                                  <tbody>\n                                    {v.issues.map(issue => (\n                                      <tr key={issue.id} className=\"border-b border-gray-200\">\n                                        <td className=\"px-4 py-2\">\n                                          {editingIssue?.id === issue.id ? (\n                                            <input\n                                              type=\"number\"\n                                              className=\"border rounded px-2 py-1 w-20\"\n                                              value={editingIssue.number}\n                                              onChange={(e) => setEditingIssue({ ...editingIssue, number: e.target.value })}\n                                            />\n                                          ) : (\n                                            <span className=\"text-sm\">#{issue.number}</span>\n                                          )}\n                                        </td>\n                                        <td className=\"px-4 py-2\">\n                                          {editingIssue?.id === issue.id ? (\n                                            <select\n                                              className=\"border rounded px-2 py-1\"\n                                              value={editingIssue.month}\n                                              onChange={(e) => setEditingIssue({ ...editingIssue, month: e.target.value })}\n                                            >\n                                              {['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'].map(m => (\n                                                <option key={m} value={m}>{m}</option>\n                                              ))}\n                                            </select>\n                                          ) : (\n                                            <span className=\"text-sm\">{issue.month}</span>\n                                          )}\n                                        </td>\n                                        <td className=\"px-4 py-2\">\n                                          {editingIssue?.id === issue.id ? (\n                                            <input\n                                              type=\"number\"\n                                              className=\"border rounded px-2 py-1 w-24\"\n                                              value={editingIssue.year}\n                                              onChange={(e) => setEditingIssue({ ...editingIssue, year: e.target.value })}\n                                            />\n                                          ) : (\n                                            <span className=\"text-sm\">{issue.year}</span>\n                                          )}\n                                        </td>\n                                        <td className=\"px-4 py-2 text-right\">\n                                          <div className=\"flex gap-2 justify-end\">\n                                            {editingIssue?.id === issue.id ? (\n                                              <>\n                                                <button\n                                                  onClick={() => handleUpdateIssue(issue.id, editingIssue.number, editingIssue.month, editingIssue.year)}\n                                                  className=\"px-2 py-1 text-xs rounded bg-green-600 text-white hover:bg-green-700\"\n                                                >\n                                                  Save\n                                                </button>\n                                                <button\n                                                  onClick={() => setEditingIssue(null)}\n                                                  className=\"px-2 py-1 text-xs rounded bg-gray-500 text-white hover:bg-gray-600\"\n                                                >\n                                                  Cancel\n                                                </button>\n                                              </>\n                                            ) : (\n                                              <>\n                                                <button\n                                                  onClick={() => setEditingIssue({ id: issue.id, number: issue.number, month: issue.month, year: issue.year })}\n                                                  className=\"px-2 py-1 text-xs rounded bg-blue-600 text-white hover:bg-blue-700\"\n                                                >\n                                                  Edit\n                                                </button>\n                                                <button\n                                                  onClick={() => setDeleteConfirm({ type: 'issue', id: issue.id, name: `Issue #${issue.number} (${issue.month} ${issue.year})` })}\n                                                  className=\"px-2 py-1 text-xs rounded bg-red-600 text-white hover:bg-red-700\"\n                                                >\n                                                  Delete\n                                                </button>\n                                              </>\n                                            )}\n                                          </div>\n                                        </td>\n                                      </tr>\n                                    ))}\n                                  </tbody>\n                                </table>\n                              </div>\n                            </td>\n                          </tr>\n                        )}\n                      </React.Fragment>\n                    ))}\n                  </tbody>\n                </table>\n                {volumes.length === 0 && (\n                  <div className=\"text-center text-gray-500 py-8\">No volumes created yet</div>\n                )}\n              </div>\n            </div>\n          </section>\n        </div>\n\n        {/* Delete Confirmation Modal */}\n        {deleteConfirm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6 shadow-xl\">\n              <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4\">\n                <svg className=\"w-6 h-6 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                </svg>\n              </div>\n\n              <h3 className=\"text-xl font-bold text-center text-gray-900 mb-2\">\n                Confirm Deletion\n              </h3>\n\n              <p className=\"text-center text-gray-600 mb-4\">\n                Are you sure you want to delete <span className=\"font-semibold text-gray-900\">{deleteConfirm.name}</span>?\n              </p>\n\n              {deleteConfirm.type === 'volume' && deleteConfirm.issueCount > 0 && (\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4\">\n                  <p className=\"text-sm text-yellow-800\">\n                    ‚ö†Ô∏è This will also delete <span className=\"font-semibold\">{deleteConfirm.issueCount} issue(s)</span> associated with this volume.\n                  </p>\n                </div>\n              )}\n\n              <p className=\"text-center text-sm text-gray-500 mb-6\">\n                This action cannot be undone.\n              </p>\n\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setDeleteConfirm(null)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300 transition-colors font-medium\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => {\n                    if (deleteConfirm.type === 'volume') {\n                      handleDeleteVolume(deleteConfirm.id);\n                    } else {\n                      handleDeleteIssue(deleteConfirm.id);\n                    }\n                  }}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors font-medium\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminPage;\n"],"names":[],"mappings":"wDACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,wBAEkB,KAEhB,GAAM,CAAE,KAAM,CAAI,CAAE,UAAW,CAAW,CAAE,MAAO,CAAS,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAClE,CAAE,KAAM,EAAU,EAAE,CAAE,UAAW,CAAc,CAAE,QAAS,CAAc,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,IACvF,CAAE,KAAM,EAAoB,EAAE,CAAE,UAAW,CAAgB,CAAE,CAAG,CAAA,EAAA,EAAA,oBAAA,AAAoB,IACpF,CAAE,KAAM,EAAoB,EAAE,CAAE,UAAW,CAAgB,CAAE,CAAG,CAAA,EAAA,EAAA,oBAAA,AAAoB,IACpF,CAAE,KAAM,EAAmB,EAAE,CAAE,UAAW,CAAe,CAAE,CAAG,CAAA,EAAA,EAAA,mBAAA,AAAmB,IAExD,CAAA,EAAA,EAAA,iBAAA,AAAiB,IAChB,CAAA,EAAA,EAAA,yBAAA,AAAyB,IAC5B,CAAA,EAAA,EAAA,sBAAA,AAAsB,IAGnD,GAAM,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,CAAE,SAAU,GAAI,OAAQ,GAAI,MAAO,GAAI,KAAM,EAAG,GACnF,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MACrD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAC,GACxC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC7C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC3C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAE7C,CAFoD,CAE/B,MAAO,IAChC,EAAE,cAAc,GAChB,IAAM,EAAM,SAAS,EAAiB,IACtC,GAAK,CAL0G,AAK3G,CACJ,GADU,AACN,CACF,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,GACnB,EAAmB,IACnB,MAAM,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,WACxB,GACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,GAC1C,MAAM,4BAA8B,EAAM,OAAO,CACnD,CACF,EAEM,EAAoB,MAAO,IAC/B,EAAE,cAAc,GAChB,GAAM,UAAE,CAAQ,QAAE,CAAM,OAAE,CAAK,MAAE,CAAI,CAAE,CAAG,EAC1C,GAAI,AAAC,GAAa,GAAW,GAAU,EACvC,CADiB,CAAW,CACxB,CADyC,AAE3C,AAFoC,MAE9B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAU,SAAS,EAAQ,IAAK,EAAO,SAAS,EAAM,KACxE,EAAY,CAAE,SAAU,GAAI,OAAQ,GAAI,MAAO,GAAI,KAAM,EAAG,GAC5D,MAAM,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,WACxB,GACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,0BAA2B,GACzC,MAAM,2BAA6B,EAAM,OAAO,CAClD,CACF,EAYM,EAAqB,MAAO,EAAU,KAC1C,GAAI,CACF,MAAM,CAAA,EAAA,EAAA,YAAY,AAAZ,EAAa,EAAU,SAAS,EAAQ,KAC9C,EAAiB,MACjB,MAAM,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,WACxB,GACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,GAC1C,MAAM,4BAA8B,EAAM,OAAO,CACnD,CACF,EAEM,EAAqB,MAAO,IAChC,GAAI,CACF,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,GACnB,EAAiB,MACjB,MAAM,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,WACxB,GACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,GAC1C,MAAM,4BAA8B,EAAM,OAAO,CACnD,CACF,EAEM,EAAoB,MAAO,EAAS,EAAQ,EAAO,KACvD,GAAI,CACF,MAAM,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAS,SAAS,EAAQ,IAAK,EAAO,SAAS,EAAM,KACvE,EAAgB,MAChB,MAAM,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,WACxB,GACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,0BAA2B,GACzC,MAAM,2BAA6B,EAAM,OAAO,CAClD,CACF,EAEM,EAAoB,MAAO,IAC/B,GAAI,CACF,MAAM,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,GAClB,EAAiB,MACjB,MAAM,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,WACxB,GACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,0BAA2B,GACzC,MAAM,2BAA6B,EAAM,OAAO,CAClD,CACF,SAGA,AAAI,EACK,CAAA,EAAA,EAAA,GAAA,EAAC,CADO,KACP,CAAI,UAAU,iDAAwC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BAAoB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDAG9G,GAAa,CAAC,EACT,CAAA,EAAA,CADe,CACf,GAAA,EAAC,MAAA,CAAI,UAAU,iDAAwC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,sBAG7F,UAAU,CAAxB,EAAK,IAAI,CACJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDAAwC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,yCAI7G,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0CAAiC,gBAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,mBAAmB,UAAU,2FAAkF,uBAG1H,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,mBAAmB,UAAU,2FAAkF,uBAG1H,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,iBAAiB,UAAU,iHAAwG,wBAG9I,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,2BAA2B,UAAU,mHAA0G,4BAG1J,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,IAAM,OAAO,OAAO,CAAC,IAAI,GAAI,UAAU,kGAAyF,iBAMrJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,6CACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,gCAGzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0CAAiC,mBAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAoB,UAAU,uBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,UAAU,0FACV,YAAY,gBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,IAEpD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,6FAAoF,qBAO1G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0CAAiC,kBAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAmB,UAAU,sBAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,UAAU,0FACV,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAY,IAAK,AAAC,CAAE,GAAG,CAAC,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,YAErE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,kBAChB,EAAQ,GAAG,CAAC,GAAK,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAkB,MAAO,EAAE,EAAE,WAAE,UAAQ,EAAE,MAAM,GAAnC,EAAE,EAAE,MAErC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,UAAU,mFACV,YAAY,UACZ,MAAO,EAAS,MAAM,CACtB,SAAU,AAAC,GAAM,EAAY,IAAM,AAAD,CAAG,GAAG,CAAC,CAAE,OAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,IAErE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,UAAU,mFACV,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAY,IAAM,AAAD,CAAG,GAAG,CAAC,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,YAElE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,UAChB,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,WAAW,CAAC,GAAG,CAAC,GAC9H,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,MAAO,WAAI,GAAd,OAGjB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,UAAU,mFACV,YAAY,OACZ,MAAO,EAAS,IAAI,CACpB,SAAW,AAAD,GAAO,EAAY,IAAK,AAAC,CAAE,GAAG,CAAC,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,OAGrE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,oGAA2F,oBAOjH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8DAAqD,qBACnE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,+BACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mEAA0D,kBACxE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mEAA0D,WACxE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oEAA2D,iBAG7E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,oCACd,EAAQ,GAAG,CAAC,GACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAK,CAAC,QAAQ,CAAA,WACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,6BACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACX,GAAe,KAAO,EAAE,EAAE,CACzB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,UAAU,gCACV,MAAO,EAAc,MAAM,CAC3B,SAAU,AAAC,GAAM,EAAiB,CAAE,GAAG,CAAa,CAAE,OAAQ,EAAE,MAAM,CAAC,KAAK,AAAC,KAG/E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wCAA8B,UAAQ,EAAE,MAAM,MAGlE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4CACX,EAAE,MAAM,EAAE,QAAU,EAAE,eAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,GAAe,KAAO,EAAE,EAAE,CACzB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAmB,EAAE,EAAE,CAAE,EAAc,MAAM,EAC5D,UAAU,gFACX,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,MAChC,UAAU,8EACX,cAKH,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,CAAE,GAAI,EAAE,EAAE,CAAE,OAAQ,EAAE,MAAO,AAAD,GAC5D,UAAU,8EACX,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,CAAE,KAAM,SAAU,GAAI,EAAE,EAAE,CAAE,KAAM,CAAC,OAAO,EAAE,EAAE,MAAM,CAAA,CAAE,CAAE,WAAY,EAAE,MAAM,EAAE,QAAU,CAAE,GAC1H,UAAU,4EACX,qBASV,EAAE,MAAM,EAAI,EAAE,MAAM,CAAC,MAAM,CAAG,GAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAQ,IAAI,UAAU,gCACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mEAA0D,YACxE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mEAA0D,UACxE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mEAA0D,SACxE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oEAA2D,iBAG7E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,EAAE,MAAM,CAAC,GAAG,CAAC,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAkB,UAAU,qCAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACX,GAAc,KAAO,EAAM,EAAE,CAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,UAAU,gCACV,MAAO,EAAa,MAAM,CAC1B,SAAU,AAAC,GAAM,EAAgB,CAAE,GAAG,CAAY,CAAE,OAAQ,EAAE,MAAM,CAAC,KAAK,AAAC,KAG7E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oBAAU,IAAE,EAAM,MAAM,MAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACX,GAAc,KAAO,EAAM,EAAE,CAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,2BACV,MAAO,EAAa,KAAK,CACzB,SAAU,AAAC,GAAM,EAAgB,CAAE,GAAG,CAAY,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,YAEzE,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,WAAW,CAAC,GAAG,CAAC,GAC9H,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,MAAO,WAAI,GAAd,MAIjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAW,EAAM,KAAK,KAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACX,GAAc,KAAO,EAAM,EAAE,CAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,UAAU,gCACV,MAAO,EAAa,IAAI,CACxB,SAAW,AAAD,GAAO,EAAgB,CAAE,GAAG,CAAY,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,AAAC,KAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAW,EAAM,IAAI,KAGzC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,GAAc,KAAO,EAAM,EAAE,CAC5B,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAkB,EAAM,EAAE,CAAE,EAAa,MAAM,CAAE,EAAa,KAAK,CAAE,EAAa,IAAI,EACrG,UAAU,gFACX,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,MAC/B,UAAU,8EACX,cAKH,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,CAAE,GAAI,EAAM,EAAE,CAAE,OAAQ,EAAM,MAAM,CAAE,MAAO,EAAM,KAAK,CAAE,KAAM,EAAM,IAAI,AAAC,GAC1G,UAAU,8EACX,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,CAAE,KAAM,QAAS,GAAI,EAAM,EAAE,CAAE,KAAM,CAAC,OAAO,EAAE,EAAM,MAAM,CAAC,EAAE,EAAE,EAAM,KAAK,CAAC,CAAC,EAAE,EAAM,IAAI,CAAC,CAAC,CAAE,AAAD,GAC5H,UAAU,4EACX,oBApEF,EAAM,EAAE,gBArEZ,EAAE,EAAE,QA4JX,IAAnB,EAAQ,MAAM,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CAAiC,sCAQzD,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAuB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6IAIzE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4DAAmD,qBAIjE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,2CAAiC,mCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAA+B,EAAc,IAAI,GAAQ,OAGnF,WAAvB,EAAc,IAAI,EAAiB,EAAc,UAAU,CAAG,GAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,oCAA0B,4BACZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0BAAiB,EAAc,UAAU,CAAC,eAAgB,qCAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,kCAItD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,MAChC,UAAU,iHACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACoB,UAAU,CAAjC,EAAc,IAAI,CACpB,EAAmB,EAAc,EAAE,EAEnC,EAAkB,EAAc,EAAE,CAEtC,EACA,UAAU,4GACX,uBAUjB"}