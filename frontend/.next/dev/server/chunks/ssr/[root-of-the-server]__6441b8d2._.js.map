{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/hooks/useAuth.js"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport { checkAuth } from '../utils/api';\n\nexport const useAuth = () => {\n  return useQuery({\n    queryKey: ['auth', 'user'],\n    queryFn: async () => {\n      if (process.env.NODE_ENV === 'development') {\n        console.log('üîÑ Checking authentication...');\n      }\n      const data = await checkAuth();\n      if (process.env.NODE_ENV === 'development') {\n        console.log('‚úÖ Auth check complete:', data?.email || 'No user');\n      }\n      return data;\n    },\n    retry: false,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,UAAU;IACrB,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU;YAAC;YAAQ;SAAO;QAC1B,SAAS;YACP,wCAA4C;gBAC1C,QAAQ,GAAG,CAAC;YACd;YACA,MAAM,OAAO,MAAM,IAAA,yHAAS;YAC5B,wCAA4C;gBAC1C,QAAQ,GAAG,CAAC,0BAA0B,MAAM,SAAS;YACvD;YACA,OAAO;QACT;QACA,OAAO;QACP,WAAW,IAAI,KAAK;IACtB;AACF","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/hooks/useVolumes.js"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport { listVolumes } from '../utils/api';\n\nexport const useVolumes = () => {\n  return useQuery({\n    queryKey: ['volumes'],\n    queryFn: async () => {\n\n      const data = await listVolumes();\n\n      return data;\n    },\n    staleTime: 0,\n  });\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,aAAa;IACxB,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU;YAAC;SAAU;QACrB,SAAS;YAEP,MAAM,OAAO,MAAM,IAAA,2HAAW;YAE9B,OAAO;QACT;QACA,WAAW;IACb;AACF","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/hooks/useArticles.js"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport {\n  listSubmittedArticles,\n  listPublishedArticles,\n  publishArticle,\n  createAndPublishArticle,\n  updateArticle,\n  deleteArticle\n} from '../utils/api';\n\n// Submitted Articles\nexport const useSubmittedArticles = () => {\n  return useQuery({\n    queryKey: ['articles', 'submitted'],\n    queryFn: async () => {\n\n      const data = await listSubmittedArticles();\n\n      return data;\n    },\n    staleTime: 0,\n  });\n};\n\n// Published Articles\nexport const usePublishedArticles = () => {\n  return useQuery({\n    queryKey: ['articles', 'published'],\n    queryFn: async () => {\n\n      const data = await listPublishedArticles();\n\n      return data;\n    },\n    staleTime: 0,\n  });\n};\n\n// Publish Article Mutation\nexport const usePublishArticle = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ articleId, issueId }) => publishArticle(articleId, issueId),\n    onSuccess: () => {\n      // Invalidate and refetch articles\n      queryClient.invalidateQueries({ queryKey: ['articles', 'submitted'] });\n      queryClient.invalidateQueries({ queryKey: ['articles', 'published'] });\n    },\n  });\n};\n\n// Create and Publish Article Mutation\nexport const useCreateAndPublishArticle = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (formData) => createAndPublishArticle(formData),\n    onSuccess: () => {\n      // Invalidate and refetch published articles\n      queryClient.invalidateQueries({ queryKey: ['articles', 'published'] });\n    },\n  });\n};\n// Update Article Mutation\nexport const useUpdateArticle = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ articleId, data }) => updateArticle(articleId, data),\n    onSuccess: () => {\n      // Invalidate and refetch articles\n      queryClient.invalidateQueries({ queryKey: ['articles', 'published'] });\n      queryClient.invalidateQueries({ queryKey: ['articles', 'submitted'] });\n    },\n  });\n};\n\n// Delete Article Mutation\nexport const useDeleteArticle = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (articleId) => deleteArticle(articleId),\n    onSuccess: () => {\n      // Invalidate and refetch articles\n      queryClient.invalidateQueries({ queryKey: ['articles', 'published'] });\n      queryClient.invalidateQueries({ queryKey: ['articles', 'submitted'] });\n    },\n  });\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;AAAA;AACA;;;AAUO,MAAM,uBAAuB;IAClC,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU;YAAC;YAAY;SAAY;QACnC,SAAS;YAEP,MAAM,OAAO,MAAM,IAAA,qIAAqB;YAExC,OAAO;QACT;QACA,WAAW;IACb;AACF;AAGO,MAAM,uBAAuB;IAClC,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU;YAAC;YAAY;SAAY;QACnC,SAAS;YAEP,MAAM,OAAO,MAAM,IAAA,qIAAqB;YAExC,OAAO;QACT;QACA,WAAW;IACb;AACF;AAGO,MAAM,oBAAoB;IAC/B,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAK,IAAA,8HAAc,EAAC,WAAW;QAClE,WAAW;YACT,kCAAkC;YAClC,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;oBAAY;iBAAY;YAAC;YACpE,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;oBAAY;iBAAY;YAAC;QACtE;IACF;AACF;AAGO,MAAM,6BAA6B;IACxC,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,CAAC,WAAa,IAAA,uIAAuB,EAAC;QAClD,WAAW;YACT,4CAA4C;YAC5C,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;oBAAY;iBAAY;YAAC;QACtE;IACF;AACF;AAEO,MAAM,mBAAmB;IAC9B,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAK,IAAA,6HAAa,EAAC,WAAW;QAC9D,WAAW;YACT,kCAAkC;YAClC,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;oBAAY;iBAAY;YAAC;YACpE,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;oBAAY;iBAAY;YAAC;QACtE;IACF;AACF;AAGO,MAAM,mBAAmB;IAC9B,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,CAAC,YAAc,IAAA,6HAAa,EAAC;QACzC,WAAW;YACT,kCAAkC;YAClC,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;oBAAY;iBAAY;YAAC;YACpE,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;oBAAY;iBAAY;YAAC;QACtE;IACF;AACF","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/hooks/useDownloadRequests.js"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport {\n  listDownloadRequests,\n  approveDownloadRequest,\n  denyDownloadRequest\n} from '../utils/api';\n\nexport const useDownloadRequests = () => {\n  return useQuery({\n    queryKey: ['downloadRequests'],\n    queryFn: async () => {\n\n      const data = await listDownloadRequests();\n\n      return data;\n    },\n    staleTime: 0,\n  });\n};\n\nexport const useApproveDownloadRequest = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (requestId) => approveDownloadRequest(requestId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['downloadRequests'] });\n    },\n  });\n};\n\nexport const useDenyDownloadRequest = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (requestId) => denyDownloadRequest(requestId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['downloadRequests'] });\n    },\n  });\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AAAA;AACA;;;AAMO,MAAM,sBAAsB;IACjC,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU;YAAC;SAAmB;QAC9B,SAAS;YAEP,MAAM,OAAO,MAAM,IAAA,oIAAoB;YAEvC,OAAO;QACT;QACA,WAAW;IACb;AACF;AAEO,MAAM,4BAA4B;IACvC,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,CAAC,YAAc,IAAA,sIAAsB,EAAC;QAClD,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAmB;YAAC;QACjE;IACF;AACF;AAEO,MAAM,yBAAyB;IACpC,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,CAAC,YAAc,IAAA,mIAAmB,EAAC;QAC/C,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAmB;YAAC;QACjE;IACF;AACF","debugId":null}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/utils/sanitize.js"],"sourcesContent":["import DOMPurify from 'isomorphic-dompurify';\n\n/**\n * Sanitize HTML content to prevent XSS attacks\n * @param {string} html - HTML string to sanitize\n * @returns {string} - Sanitized HTML string\n */\nexport function sanitizeHtml(html) {\n  if (!html || typeof html !== 'string') return '';\n  return DOMPurify.sanitize(html, {\n    ALLOWED_TAGS: [], // No HTML tags allowed - strip all\n    ALLOWED_ATTR: [],\n    KEEP_CONTENT: true, // Keep text content but remove tags\n  });\n}\n\n/**\n * Sanitize plain text (escape HTML entities)\n * @param {string} text - Text to sanitize\n * @returns {string} - Sanitized text safe for rendering\n */\nexport function sanitizeText(text) {\n  if (!text || typeof text !== 'string') return '';\n  \n  // Use DOMPurify to escape HTML entities\n  const div = typeof document !== 'undefined' ? document.createElement('div') : { textContent: '' };\n  if (typeof document !== 'undefined') {\n    div.textContent = text;\n    return div.innerHTML;\n  }\n  \n  // Server-side fallback: manually escape HTML entities\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;')\n    .replace(/\\//g, '&#x2F;');\n}\n\n/**\n * Sanitize email address to prevent XSS in mailto links\n * @param {string} email - Email address to sanitize\n * @returns {string} - Sanitized email or empty string if invalid\n */\nexport function sanitizeEmail(email) {\n  if (!email || typeof email !== 'string') return '';\n  \n  // Basic email validation regex\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  const sanitized = sanitizeText(email);\n  \n  // Only return if it matches email format and doesn't contain dangerous characters\n  if (emailRegex.test(sanitized) && !/[<>\"']/.test(email)) {\n    return sanitized;\n  }\n  \n  return '';\n}\n\n/**\n * Sanitize URL to prevent XSS and javascript: protocol attacks\n * @param {string} url - URL to sanitize\n * @returns {string} - Sanitized URL or empty string if invalid\n */\nexport function sanitizeUrl(url) {\n  if (!url || typeof url !== 'string') return '';\n  \n  // Remove dangerous protocols\n  const dangerousProtocols = ['javascript:', 'data:', 'vbscript:', 'file:'];\n  const lowerUrl = url.toLowerCase().trim();\n  \n  for (const protocol of dangerousProtocols) {\n    if (lowerUrl.startsWith(protocol)) {\n      return '';\n    }\n  }\n  \n  // Only allow http, https, mailto, and relative URLs\n  if (!/^(https?:\\/\\/|mailto:|#|\\/)/.test(lowerUrl) && !lowerUrl.startsWith('/')) {\n    // Allow relative paths\n    if (!lowerUrl.startsWith('.')) {\n      return '';\n    }\n  }\n  \n  return sanitizeText(url);\n}\n\n/**\n * Sanitize DOI (Digital Object Identifier)\n * @param {string} doi - DOI to sanitize\n * @returns {string} - Sanitized DOI\n */\nexport function sanitizeDoi(doi) {\n  if (!doi || typeof doi !== 'string') return '';\n  \n  // DOI format: 10.xxxx/xxxxx (alphanumeric, dots, slashes, hyphens, underscores)\n  const doiRegex = /^10\\.\\d{4,}\\/[\\w\\.\\-]+$/;\n  const sanitized = sanitizeText(doi);\n  \n  if (doiRegex.test(sanitized)) {\n    return sanitized;\n  }\n  \n  // If it doesn't match strict format, still sanitize but return\n  return sanitized.replace(/[<>\"']/g, '');\n}\n\n/**\n * Sanitize keywords (comma-separated list)\n * @param {string} keywords - Keywords string to sanitize\n * @returns {string[]} - Array of sanitized keywords\n */\nexport function sanitizeKeywords(keywords) {\n  if (!keywords || typeof keywords !== 'string') return [];\n  \n  return keywords\n    .split(',')\n    .map(kw => sanitizeText(kw.trim()))\n    .filter(kw => kw.length > 0);\n}\n\n/**\n * Sanitize author object\n * @param {object} author - Author object with name, email, affiliation, etc.\n * @returns {object} - Sanitized author object\n */\nexport function sanitizeAuthor(author) {\n  if (!author || typeof author !== 'object') return null;\n  \n  return {\n    name: sanitizeText(author.name || ''),\n    email: sanitizeEmail(author.email || ''),\n    affiliation: sanitizeText(author.affiliation || ''),\n    superscript: sanitizeText(author.superscript || ''),\n  };\n}\n\n/**\n * Sanitize article data\n * @param {object} article - Article object\n * @returns {object} - Sanitized article object\n */\nexport function sanitizeArticle(article) {\n  if (!article || typeof article !== 'object') return null;\n  \n  const sanitized = {\n    ...article,\n    title: sanitizeText(article.title || ''),\n    abstract: sanitizeText(article.abstract || ''),\n    keywords: article.keywords ? sanitizeText(article.keywords) : '',\n    doi: article.doi ? sanitizeDoi(article.doi) : '',\n    conflictOfInterest: sanitizeText(article.conflictOfInterest || ''),\n    fundingInfo: sanitizeText(article.fundingInfo || ''),\n    dataAvailability: sanitizeText(article.dataAvailability || ''),\n  };\n  \n  // Sanitize authors if present\n  if (article.authorsJson) {\n    try {\n      const authors = typeof article.authorsJson === 'string' \n        ? JSON.parse(article.authorsJson) \n        : article.authorsJson;\n      \n      if (Array.isArray(authors)) {\n        sanitized.authorsJson = authors.map(sanitizeAuthor).filter(a => a !== null);\n      }\n    } catch (e) {\n      sanitized.authorsJson = [];\n    }\n  }\n  \n  return sanitized;\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/app/admin/publish/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { useAuth } from '../../../hooks/useAuth';\nimport { useVolumes } from '../../../hooks/useVolumes';\nimport { BASE_URL } from '../../../utils/api';\nimport { useSubmittedArticles, usePublishedArticles, useCreateAndPublishArticle, usePublishArticle } from '../../../hooks/useArticles';\nimport { useDownloadRequests } from '../../../hooks/useDownloadRequests';\nimport { sanitizeText, sanitizeKeywords } from '../../../utils/sanitize';\n\nconst PublishArticlesPage = () => {\n  // TanStack Query hooks\n  const { data: user, isLoading: authLoading, error: authError } = useAuth();\n  const { data: volumes = [], isLoading: volumesLoading } = useVolumes();\n  const { data: submittedArticles = [], isLoading: submittedLoading } = useSubmittedArticles();\n  const { data: publishedArticles = [], isLoading: publishedLoading } = usePublishedArticles();\n  const { data: downloadRequests = [], isLoading: downloadLoading } = useDownloadRequests();\n\n  // Mutations\n  const createAndPublishMutation = useCreateAndPublishArticle();\n\n  // Local state\n  const [expandedArticleId, setExpandedArticleId] = useState(null);\n  const [publishing, setPublishing] = useState({});\n\n  // Publish article form state\n  const [publishForm, setPublishForm] = useState({\n    title: '',\n    abstract: '',\n    keywords: '',\n    pages: '',\n    doi: '',\n    issueId: '',\n    file: null,\n    scriptFile: null,\n    authors: [{ name: '', email: '', affiliation: '', superscript: '' }]\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [submitMessage, setSubmitMessage] = useState('');\n\n\n  const publishArticleMutation = usePublishArticle();\n\n  const handlePublish = async (articleId, issueId) => {\n    if (!issueId) {\n      alert('Please select an issue first');\n      return;\n    }\n\n    try {\n      await publishArticleMutation.mutateAsync({ articleId, issueId });\n      alert('Article published successfully!');\n    } catch (error) {\n      console.error('Failed to publish article:', error);\n      alert('Failed to publish article. Please try again.');\n    }\n  };\n\n  const addAuthor = () => {\n    setPublishForm(prev => ({\n      ...prev,\n      authors: [...prev.authors, { name: '', email: '', affiliation: '', superscript: '' }]\n    }));\n  };\n\n  const removeAuthor = (index) => {\n    setPublishForm(prev => ({\n      ...prev,\n      authors: prev.authors.filter((_, i) => i !== index)\n    }));\n  };\n\n  const updateAuthor = (index, field, value) => {\n    setPublishForm(prev => ({\n      ...prev,\n      authors: prev.authors.map((author, i) =>\n        i === index ? { ...author, [field]: value } : author\n      )\n    }));\n  };\n\n  const handlePublishArticle = async (e) => {\n    e.preventDefault();\n\n    // Validate form\n    if (!publishForm.title || !publishForm.abstract || !publishForm.issueId) {\n      setSubmitMessage('Please fill in all required fields (Title, Abstract, and Issue)');\n      return;\n    }\n\n    if (!publishForm.authors.some(author => author.name && author.email)) {\n      setSubmitMessage('Please add at least one author with name and email');\n      return;\n    }\n\n    setSubmitMessage('');\n\n    try {\n      // Create FormData for file upload\n      const formData = new FormData();\n      formData.append('title', publishForm.title);\n      formData.append('abstract', publishForm.abstract);\n      formData.append('keywords', publishForm.keywords);\n      formData.append('pages', publishForm.pages);\n      formData.append('doi', publishForm.doi);\n      formData.append('issueId', publishForm.issueId);\n      formData.append('authors', JSON.stringify(publishForm.authors));\n\n      if (publishForm.file) {\n        formData.append('file', publishForm.file);\n      }\n\n      if (publishForm.scriptFile) {\n        formData.append('script', publishForm.scriptFile);\n      }\n\n      // Use TanStack Query mutation\n      await createAndPublishMutation.mutateAsync(formData);\n\n      setSubmitMessage('Article published successfully!');\n\n      // Reset form\n      setPublishForm({\n        title: '',\n        abstract: '',\n        keywords: '',\n        pages: '',\n        doi: '',\n        issueId: '',\n        file: null,\n        scriptFile: null,\n        authors: [{ name: '', email: '', affiliation: '', superscript: '' }]\n      });\n\n    } catch (error) {\n      console.error('Failed to publish article:', error);\n      setSubmitMessage(error.response?.data?.message || 'Failed to publish article. Please try again.');\n    }\n  };\n\n  // Loading states\n  if (authLoading) {\n    return <div className=\"min-h-screen bg-white mt-16 py-8 px-5\"><div className=\"max-w-4xl mx-auto\"><div className=\"h-6 w-40 bg-gray-200 animate-pulse rounded mb-6\" /></div></div>;\n  }\n\n  if (authError || !user) {\n    return <div className=\"min-h-screen bg-white mt-16 py-8 px-5\"><div className=\"max-w-2xl mx-auto text-center\">Please sign in.</div></div>;\n  }\n\n  if (user.role !== 'EDITOR') {\n    return <div className=\"min-h-screen bg-white mt-16 py-8 px-5\"><div className=\"max-w-2xl mx-auto text-center\">Forbidden. Editor access required.</div></div>;\n  }\n\n  return (\n    <div className=\"min-h-screen w-full text-black bg-white mt-16 py-8 px-5\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-2xl md:text-3xl font-bold\">Publish Articles</h1>\n          <div className=\"flex gap-3\">\n            <Link href=\"/admin\" className=\"px-4 py-2 rounded-lg border border-gray-300 text-sm hover:bg-gray-50 transition-colors\">\n              ‚Üê Back to Admin\n            </Link>\n          </div>\n        </div>\n\n        {/* Publish New Article Form */}\n        <section className=\"bg-gray-50 rounded-lg p-4 md:p-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Publish New Article</h2>\n\n          {submitMessage && (\n            <div className={`mb-4 p-3 rounded-lg ${submitMessage.includes('successfully') ? 'bg-green-50 text-green-800 border border-green-200' : 'bg-red-50 text-red-800 border border-red-200'}`}>\n              {submitMessage}\n            </div>\n          )}\n\n          <form onSubmit={handlePublishArticle} className=\"bg-white rounded-lg p-6 shadow-sm\">\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              {/* Left Column */}\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Upload Article <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"file\"\n                    accept=\".pdf\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    onChange={(e) => setPublishForm(prev => ({ ...prev, file: e.target.files[0] }))}\n                  />\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    {publishForm.file ? publishForm.file.name : 'No file chosen'}\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Upload Script File (Optional)\n                  </label>\n                  <input\n                    type=\"file\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    onChange={(e) => setPublishForm(prev => ({ ...prev, scriptFile: e.target.files[0] }))}\n                  />\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    {publishForm.scriptFile ? publishForm.scriptFile.name : 'Upload any scripts or code files related to the research'}\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Title <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    value={publishForm.title}\n                    onChange={(e) => setPublishForm(prev => ({ ...prev, title: e.target.value }))}\n                    placeholder=\"Article title\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Abstract <span className=\"text-red-500\">*</span>\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a] h-24\"\n                    value={publishForm.abstract}\n                    onChange={(e) => setPublishForm(prev => ({ ...prev, abstract: e.target.value }))}\n                    placeholder=\"Article abstract\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Keywords</label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    value={publishForm.keywords}\n                    onChange={(e) => setPublishForm(prev => ({ ...prev, keywords: e.target.value }))}\n                    placeholder=\"Keywords (comma separated)\"\n                  />\n                </div>\n              </div>\n\n              {/* Right Column */}\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Pages</label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    value={publishForm.pages}\n                    onChange={(e) => setPublishForm(prev => ({ ...prev, pages: e.target.value }))}\n                    placeholder=\"e.g., 1-15\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">DOI</label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    value={publishForm.doi}\n                    onChange={(e) => setPublishForm(prev => ({ ...prev, doi: e.target.value }))}\n                    placeholder=\"DOI\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Select Issue <span className=\"text-red-500\">*</span>\n                  </label>\n                  <select\n                    className=\"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                    value={publishForm.issueId}\n                    onChange={(e) => setPublishForm(prev => ({ ...prev, issueId: e.target.value }))}\n                    required\n                  >\n                    <option value=\"\">Select Issue</option>\n                    {volumes.flatMap(v => (v.issues || []).map(i => ({ ...i, volumeNumber: v.number }))).map(i => (\n                      <option key={i.id} value={i.id}>Vol {i.volumeNumber} - Issue {i.number} ({i.month} {i.year})</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            {/* Authors Section */}\n            <div className=\"mt-6\">\n              <h3 className=\"text-lg font-medium text-gray-800 mb-4\">Authors</h3>\n              <div className=\"space-y-4\">\n                {publishForm.authors.map((author, index) => (\n                  <div key={index} className=\"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg bg-gray-50\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Name <span className=\"text-red-500\">*</span>\n                      </label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                        value={author.name}\n                        onChange={(e) => updateAuthor(index, 'name', e.target.value)}\n                        placeholder=\"Author name\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Email <span className=\"text-red-500\">*</span>\n                      </label>\n                      <input\n                        type=\"email\"\n                        className=\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                        value={author.email}\n                        onChange={(e) => updateAuthor(index, 'email', e.target.value)}\n                        placeholder=\"Author email\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Affiliation</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                        value={author.affiliation}\n                        onChange={(e) => updateAuthor(index, 'affiliation', e.target.value)}\n                        placeholder=\"Institution\"\n                      />\n                    </div>\n                    <div className=\"flex items-end gap-2\">\n                      <div className=\"flex-1\">\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Superscript</label>\n                        <input\n                          type=\"text\"\n                          className=\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#083b7a]\"\n                          value={author.superscript}\n                          onChange={(e) => updateAuthor(index, 'superscript', e.target.value)}\n                          placeholder=\"1, 2, etc.\"\n                        />\n                      </div>\n                      {publishForm.authors.length > 1 && (\n                        <button\n                          type=\"button\"\n                          className=\"px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors\"\n                          onClick={() => removeAuthor(index)}\n                        >\n                          Remove\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                ))}\n                <button\n                  type=\"button\"\n                  className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n                  onClick={addAuthor}\n                >\n                  ‚ûï Add Author\n                </button>\n              </div>\n            </div>\n\n            {/* Submit Button */}\n            <div className=\"mt-6 flex justify-end\">\n              <button\n                type=\"submit\"\n                disabled={createAndPublishMutation.isPending}\n                className=\"flex items-center gap-2 px-6 py-2 bg-[#083b7a] text-white rounded-lg hover:bg-[#0a4ea3] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {createAndPublishMutation.isPending ? 'Publishing...' : 'üì® Upload Article'}\n              </button>\n            </div>\n          </form>\n        </section>\n\n        {/* Submitted Articles Section */}\n        <section className=\"bg-gray-50 rounded-lg p-6 mt-8\">\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Submitted Articles</h2>\n          <div className=\"space-y-4\">\n            {submittedArticles.map(a => (\n              <div key={a.id} className=\"bg-white border rounded-lg p-4 shadow-sm\">\n                <div className=\"font-semibold text-gray-800 mb-1\">{sanitizeText(a.title || '')}</div>\n                <div className=\"text-sm text-gray-600 mb-3\">{a.articleType}</div>\n\n                <div className=\"flex flex-col sm:flex-row gap-2 mb-3\">\n                  <button\n                    className=\"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 text-sm transition-colors\"\n                    onClick={() => setExpandedArticleId(expandedArticleId === a.id ? null : a.id)}\n                  >\n                    {expandedArticleId === a.id ? 'Hide Details' : 'View Details'}\n                  </button>\n                  <select className=\"flex-1 border rounded px-2 py-1 text-sm\" defaultValue=\"\">\n                    <option value=\"\" disabled>Select Issue</option>\n                    {volumes.flatMap(v => (v.issues || []).map(i => ({ ...i, volumeNumber: v.number }))).map(i => (\n                      <option key={i.id} value={i.id}>Vol {i.volumeNumber} - Issue {i.number} ({i.month} {i.year})</option>\n                    ))}\n                  </select>\n                  <button\n                    className=\"px-3 py-1 rounded bg-[#083b7a] text-white hover:bg-[#0a4ea3] text-sm transition-colors\"\n                    onClick={(e) => {\n                      const select = e.currentTarget.previousSibling;\n                      if (!select || !(select instanceof HTMLSelectElement) || !select.value) return;\n                      handlePublish(a.id, select.value);\n                    }}\n                  >\n                    Publish\n                  </button>\n                </div>\n\n                {expandedArticleId === a.id && (\n                  <div className=\"text-sm text-gray-700 border-t pt-3 mt-3 space-y-2\">\n                    {a.keywords && <div><span className=\"font-medium\">Keywords:</span> {sanitizeText(a.keywords)}</div>}\n                    {a.abstract && (\n                      <div>\n                        <div className=\"font-medium mb-1\">Abstract</div>\n                        <div className=\"whitespace-pre-wrap text-gray-600\">{sanitizeText(a.abstract)}</div>\n                      </div>\n                    )}\n                    {a.pdfPath && (\n                      <div className=\"flex items-center gap-2\">\n                        <a\n                          className=\"text-blue-700 hover:underline\"\n                          href={a.pdfPath.startsWith('/api/') ? `${BASE_URL}${a.pdfPath}` : a.pdfPath}\n                          target=\"_blank\"\n                          rel=\"noreferrer\"\n                        >\n                          Download PDF\n                        </a>\n                        {typeof a.totalPages === 'number' && (\n                          <span className=\"text-gray-500\">({a.totalPages} pages)</span>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))}\n            {submittedArticles.length === 0 && (\n              <div className=\"text-center text-gray-500 py-8 bg-white rounded-lg border\">\n                No submissions pending\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* Published Articles Section */}\n        <section className=\"bg-gray-50 rounded-lg p-6 mt-8\">\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Published Articles</h2>\n          <div className=\"space-y-4\">\n            {publishedArticles.map(a => (\n              <div key={a.id} className=\"bg-white border rounded-lg p-4 shadow-sm\">\n                <div className=\"font-semibold text-gray-800 mb-1\">{sanitizeText(a.title || '')}</div>\n                <div className=\"text-sm text-gray-600 mb-2\">{a.articleType}</div>\n                {a.issue && (\n                  <div className=\"text-sm text-gray-500 mb-2\">\n                    Volume {a.issue.volume?.number} ‚Ä¢ Issue {a.issue.number} ({a.issue.month} {a.issue.year})\n                  </div>\n                )}\n\n                <div className=\"flex flex-col sm:flex-row gap-2 mb-3\">\n                  <button\n                    className=\"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 text-sm transition-colors\"\n                    onClick={() => setExpandedArticleId(expandedArticleId === a.id ? null : a.id)}\n                  >\n                    {expandedArticleId === a.id ? 'Hide Details' : 'View Details'}\n                  </button>\n                </div>\n\n                {expandedArticleId === a.id && (\n                  <div className=\"text-sm text-gray-700 border-t pt-3 mt-3 space-y-2\">\n                    {a.doi && <div><span className=\"font-medium\">DOI:</span> {sanitizeText(a.doi)}</div>}\n                    {a.keywords && <div><span className=\"font-medium\">Keywords:</span> {sanitizeText(a.keywords)}</div>}\n                    {a.abstract && (\n                      <div>\n                        <div className=\"font-medium mb-1\">Abstract</div>\n                        <div className=\"whitespace-pre-wrap text-gray-600\">{sanitizeText(a.abstract)}</div>\n                      </div>\n                    )}\n                    {a.pdfPath && (\n                      <div className=\"flex items-center gap-2\">\n                        <a\n                          className=\"text-blue-700 hover:underline\"\n                          href={a.pdfPath.startsWith('/api/') ? `${BASE_URL}${a.pdfPath}` : a.pdfPath}\n                          target=\"_blank\"\n                          rel=\"noreferrer\"\n                        >\n                          Download PDF\n                        </a>\n                        {typeof a.totalPages === 'number' && (\n                          <span className=\"text-gray-500\">({a.totalPages} pages)</span>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))}\n            {publishedArticles.length === 0 && (\n              <div className=\"text-center text-gray-500 py-8 bg-white rounded-lg border\">\n                No published articles\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* Download Requests */}\n        <section className=\"bg-gray-50 rounded-lg p-6 mt-8\">\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Download Requests</h2>\n          <div className=\"space-y-3\">\n            {downloadRequests.map(req => (\n              <div key={req.id} className=\"bg-white border rounded-lg p-4 shadow-sm flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\">\n                <div className=\"text-sm text-gray-700\">\n                  <div className=\"font-semibold text-gray-900\">{req.article?.title || '‚Äî'}</div>\n                  <div className=\"text-gray-600\">\n                    Volume {req.article?.issue?.volume?.number ?? '‚Äî'}\n                    {typeof req.article?.issue?.number === 'number' && (<span> ‚Ä¢ Issue {req.article.issue.number}</span>)}\n                  </div>\n                  <div className=\"text-gray-600\">Request by: {req.user?.email || req.userId}</div>\n                  <div><span className=\"font-medium\">Status:</span> {req.status}</div>\n                </div>\n                <div className=\"flex gap-2\">\n                  {req.status !== 'APPROVED' && <button className=\"px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700 text-sm\" onClick={async () => { await approveDownloadRequest(req.id); setDownloadRequests((prev) => prev.map(r => r.id === req.id ? { ...r, status: 'APPROVED' } : r)); }}>Approve</button>}\n                  {req.status === 'PENDING' && <button className=\"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700 text-sm\" onClick={async () => { await denyDownloadRequest(req.id); setDownloadRequests((prev) => prev.map(r => r.id === req.id ? { ...r, status: 'DENIED' } : r)); }}>Deny</button>}\n                </div>\n              </div>\n            ))}\n            {downloadRequests.length === 0 && (\n              <div className=\"text-center text-gray-500 py-8 bg-white rounded-lg border\">No download requests</div>\n            )}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default PublishArticlesPage;\n"],"names":[],"mappings":"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","debugId":null}}]
}