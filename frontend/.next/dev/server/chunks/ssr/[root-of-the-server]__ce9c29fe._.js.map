{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/utils/serverApi.js"],"sourcesContent":["import { cache } from 'react';\n\nconst BASE_URL = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:8000\";\nconst API_BASE = `${BASE_URL}/api`;\n\nexport const getPublicVolumes = cache(async function getPublicVolumes() {\n  console.log('Fetching volumes from:', `${API_BASE}/content/public/volumes`);\n  const res = await fetch(`${API_BASE}/content/public/volumes`, {\n    next: {\n      revalidate: 3600, // 1 hour\n      tags: ['volumes']\n    },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch volumes\");\n  const data = await res.json();\n  return data.data;\n});\n\nexport const getIssue = cache(async function getIssue(issueId) {\n  const res = await fetch(`${API_BASE}/content/public/issue/${issueId}`, {\n    next: {\n      revalidate: 900, // 15 mins\n      tags: ['articles', `issue-${issueId}`]\n    },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch issue\");\n  const data = await res.json();\n  return data.data;\n});\n\nexport const getArticle = cache(async function getArticle(articleId) {\n  const res = await fetch(`${API_BASE}/content/public/article/${encodeURIComponent(articleId)}`, {\n    next: {\n      revalidate: 3600,\n      tags: [`article-${articleId}`, 'articles']\n    },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch article\");\n  const data = await res.json();\n  return data.data;\n});\n\nexport const getPublishedArticles = cache(async function getPublishedArticles() {\n  const res = await fetch(`${API_BASE}/content/articles/published`, {\n    next: {\n      revalidate: 900,\n      tags: ['published-articles']\n    },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch articles\");\n  const data = await res.json();\n  return data.data;\n});\n\nexport const getLatestArticles = cache(async function getLatestArticles() {\n  const res = await fetch(`${API_BASE}/content/public/articles/latest`, {\n    next: {\n      revalidate: 600, // 10 mins\n      tags: ['latest-articles']\n    },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch latest articles\");\n  const data = await res.json();\n  return data.data;\n});\n\nexport const getAllPublishedArticles = cache(async function getAllPublishedArticles() {\n  const res = await fetch(`${API_BASE}/content/public/articles/all`, {\n    next: {\n      revalidate: 3600,\n      tags: ['articles-all']\n    },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch all published articles\");\n  const data = await res.json();\n  return data.data;\n});\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAEA,MAAM,WAAW,6DAAoC;AACrD,MAAM,WAAW,GAAG,SAAS,IAAI,CAAC;AAE3B,MAAM,mBAAmB,IAAA,8MAAK,EAAC,eAAe;IACnD,QAAQ,GAAG,CAAC,0BAA0B,GAAG,SAAS,uBAAuB,CAAC;IAC1E,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,uBAAuB,CAAC,EAAE;QAC5D,MAAM;YACJ,YAAY;YACZ,MAAM;gBAAC;aAAU;QACnB;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,MAAM,WAAW,IAAA,8MAAK,EAAC,eAAe,SAAS,OAAO;IAC3D,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,sBAAsB,EAAE,SAAS,EAAE;QACrE,MAAM;YACJ,YAAY;YACZ,MAAM;gBAAC;gBAAY,CAAC,MAAM,EAAE,SAAS;aAAC;QACxC;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,MAAM,aAAa,IAAA,8MAAK,EAAC,eAAe,WAAW,SAAS;IACjE,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,wBAAwB,EAAE,mBAAmB,YAAY,EAAE;QAC7F,MAAM;YACJ,YAAY;YACZ,MAAM;gBAAC,CAAC,QAAQ,EAAE,WAAW;gBAAE;aAAW;QAC5C;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,MAAM,uBAAuB,IAAA,8MAAK,EAAC,eAAe;IACvD,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,2BAA2B,CAAC,EAAE;QAChE,MAAM;YACJ,YAAY;YACZ,MAAM;gBAAC;aAAqB;QAC9B;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,MAAM,oBAAoB,IAAA,8MAAK,EAAC,eAAe;IACpD,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,+BAA+B,CAAC,EAAE;QACpE,MAAM;YACJ,YAAY;YACZ,MAAM;gBAAC;aAAkB;QAC3B;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,MAAM,0BAA0B,IAAA,8MAAK,EAAC,eAAe;IAC1D,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,4BAA4B,CAAC,EAAE;QACjE,MAAM;YACJ,YAAY;YACZ,MAAM;gBAAC;aAAe;QACxB;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/app/issue/%5BissueId%5D/page.js"],"sourcesContent":["import React from 'react'\nimport { getIssue } from '../../../utils/serverApi'\nimport Link from 'next/link'\n\nexport async function generateMetadata({ params }) {\n  const { issueId } = await params;\n  try {\n    const issue = await getIssue(issueId);\n    return {\n      title: `Volume ${issue.volume.number} Issue ${issue.number} | Crinfo Global Publishers`,\n      description: `Browse articles in Volume ${issue.volume.number}, Issue ${issue.number} (${issue.month} ${issue.year})`,\n    };\n  } catch (error) {\n    return { title: 'Issue | Crinfo Global Publishers' };\n  }\n}\n\nconst IssuePage = async ({ params }) => {\n  const { issueId } = await params;\n  let issue = null;\n\n  try {\n    issue = await getIssue(issueId);\n  } catch (error) {\n    console.error(\"Error fetching issue:\", error);\n  }\n\n  if (!issue) {\n    return (\n      <div className='min-h-screen bg-white mt-16 py-8 px-5'>\n        <div className='max-w-6xl mx-auto text-black'>\n          <div>Issue not found</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className='min-h-screen bg-white mt-16 py-8 px-5'>\n      <div className='max-w-6xl mx-auto text-black text-justify'>\n        <div className='mb-6'>\n          <div className='text-sm text-gray-600'>\n            <Link href='/' className='text-blue-700 hover:underline'>Home</Link>\n            <span> / </span>\n            <Link href='/volumes' className='text-blue-700 hover:underline'>Volumes</Link>\n            <span> / Volume-{issue.volume.number} / Issue-{issue.number}</span>\n          </div>\n          <h1 className='text-2xl font-bold mt-2'>\n            Volume - {issue.volume.number} | Issue - {issue.number} | {issue.month} {issue.year}\n          </h1>\n        </div>\n\n        <div className='space-y-6'>\n          {(issue.articles || []).map((a, idx) => {\n            const authors = Array.isArray(a.authorsJson) ? a.authorsJson.map(author => author.name).join(', ') : '';\n            const startPage = a.startPage || (idx * 27 + 1);\n            const endPage = a.endPage || (startPage + (a.totalPages || 26) - 1);\n\n            return (\n              <div key={a.id} className='border-b border-gray-100 last:border-0 py-6 hover:bg-gray-50 transition-colors rounded-lg px-4 -mx-4 group'>\n                <div className='flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4'>\n                  <div className='flex-1'>\n                    <div className='text-xs font-bold uppercase tracking-wider text-blue-600 mb-2'>\n                      Article {idx + 1}\n                    </div>\n                    <div className='flex items-start gap-3 mb-3'>\n                      <Link href={`/article/${a.doi || a.id}`} className='text-gray-900 font-bold hover:text-blue-700 transition-colors text-xl leading-snug'>\n                        {a.title}\n                      </Link>\n                    </div>\n\n                    <div className='text-gray-600 mb-3 font-medium'>{authors}</div>\n\n                    <div className='flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-4'>\n                      <span className='inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200'>\n                        Open Access\n                      </span>\n                      <span className='flex items-center gap-1.5' title=\"Views\">\n                        <svg className='w-4 h-4' fill='none' stroke='currentColor' viewBox='0 0 24 24'>\n                          <path strokeLinecap='round' strokeLinejoin='round' strokeWidth={2} d='M15 12a3 3 0 11-6 0 3 3 0 016 0z' />\n                          <path strokeLinecap='round' strokeLinejoin='round' strokeWidth={2} d='M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z' />\n                        </svg>\n                        {a.views || 0}\n                      </span>\n                    </div>\n\n                    <div className='flex flex-wrap gap-2'>\n                      <Link href={`/article/${a.doi || a.id}`} className='px-4 py-1.5 text-sm font-medium rounded-md bg-[#083b7a] text-white hover:bg-[#062a57] transition-colors shadow-sm'>Abstract</Link>\n                      {a.pdfPath && (\n                        <Link href={`/article/${a.doi || a.id}`} className='px-4 py-1.5 text-sm font-medium rounded-md bg-red-600 text-white hover:bg-red-700 transition-colors shadow-sm flex items-center gap-2'>\n                          <span>PDF</span>\n                          <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" /></svg>\n                        </Link>\n                      )}\n                      <Link href={`/article/${a.doi || a.id}?tab=cite`} className='px-4 py-1.5 text-sm font-medium rounded-md bg-teal-600 text-white hover:bg-teal-700 transition-colors shadow-sm'>Cite</Link>\n                    </div>\n                  </div>\n                  <div className='text-sm text-gray-500 font-mono sm:text-right sm:ml-4 whitespace-nowrap bg-gray-50 px-2 py-1 rounded self-start'>\n                    pp. {startPage}-{endPage}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default IssuePage\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}