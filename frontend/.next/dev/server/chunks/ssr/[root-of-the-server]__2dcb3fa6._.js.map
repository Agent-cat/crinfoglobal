{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/utils/serverApi.js"],"sourcesContent":["\nconst BASE_URL = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:8000\";\nconst API_BASE = `${BASE_URL}/api`;\n\nexport async function getPublicVolumes() {\n  console.log('Fetching volumes from:', `${API_BASE}/content/public/volumes`);\n  const res = await fetch(`${API_BASE}/content/public/volumes`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch volumes\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getIssue(issueId) {\n  const res = await fetch(`${API_BASE}/content/public/issue/${issueId}`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch issue\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getArticle(articleId) {\n  const res = await fetch(`${API_BASE}/content/public/article/${encodeURIComponent(articleId)}`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch article\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getPublishedArticles() {\n  const res = await fetch(`${API_BASE}/content/articles/published`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch articles\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getLatestArticles() {\n  const res = await fetch(`${API_BASE}/content/public/articles/latest`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch latest articles\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getAllPublishedArticles() {\n  const res = await fetch(`${API_BASE}/content/public/articles/all`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch all published articles\");\n  const data = await res.json();\n  return data.data;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,MAAM,WAAW,6DAAoC;AACrD,MAAM,WAAW,GAAG,SAAS,IAAI,CAAC;AAE3B,eAAe;IACpB,QAAQ,GAAG,CAAC,0BAA0B,GAAG,SAAS,uBAAuB,CAAC;IAC1E,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,uBAAuB,CAAC,EAAE;QAC5D,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,SAAS,OAAO;IACpC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,sBAAsB,EAAE,SAAS,EAAE;QACrE,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,WAAW,SAAS;IACxC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,wBAAwB,EAAE,mBAAmB,YAAY,EAAE;QAC7F,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,2BAA2B,CAAC,EAAE;QAChE,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,+BAA+B,CAAC,EAAE;QACpE,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,4BAA4B,CAAC,EAAE;QACjE,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB","debugId":null}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/app/volumes/page.js"],"sourcesContent":["import { getPublicVolumes, getLatestArticles } from '../../utils/serverApi'\nimport Link from 'next/link';\n\nexport const metadata = {\n  title: \"Volumes | Crinfo Global Publishers\",\n  description: \"Browse volumes and issues published by Crinfo Global Publishers.\",\n};\n\nconst Page = async () => {\n  let volumes = [];\n  let latestArticles = [];\n\n  try {\n    const [volumesData, articlesData] = await Promise.all([\n      getPublicVolumes(),\n      getLatestArticles().catch(() => [])\n    ]);\n    volumes = volumesData;\n    latestArticles = articlesData;\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n\n  return (\n    <div className='min-h-screen bg-white mt-16 py-8 px-5'>\n      <div className='max-w-6xl mx-auto'>\n        <div className='mb-8'>\n          <h1 className='text-3xl font-bold text-gray-900 mb-2'>Volumes</h1>\n          <div className='w-full h-px bg-gray-300'></div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n          {/* Left Column: Volumes List */}\n          <div className=\"lg:col-span-1\">\n            {volumes.length === 0 ? (\n              <div className='text-gray-600 italic'>No volumes available at the moment.</div>\n            ) : (\n              <div className='space-y-0'>\n                {volumes.map((v, index) => (\n                  <div key={v.id}>\n                    <div className='mb-4'>\n                      <h2 className='text-xl font-bold text-blue-600 mb-3'>\n                        Volume - {v.number}\n                      </h2>\n                      <div className='ml-6 space-y-1 mb-6'>\n                        {(v.issues || []).map((issue) => (\n                          <Link\n                            key={issue.id}\n                            href={`/issue/${issue.id}`}\n                            className='block text-gray-800 hover:text-blue-600 cursor-pointer transition-colors duration-200'\n                          >\n                            Issue - {issue.number} | {issue.month} {issue.year}\n                          </Link>\n                        ))}\n                      </div>\n                    </div>\n                    {index < volumes.length - 1 && (\n                      <div className='w-full h-px bg-gray-300 mb-6'></div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Right Column: Latest Articles */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-gray-50 p-6 rounded-xl border border-gray-100 sticky top-24\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4 border-b border-gray-200 pb-2\">Latest Articles</h3>\n\n              {latestArticles.length === 0 ? (\n                <div className=\"text-gray-500 text-sm italic\">No recent articles found.</div>\n              ) : (\n                <div className=\"space-y-6\">\n                  {latestArticles.map((article) => {\n                    const authors = typeof article.authorsJson === 'string'\n                      ? JSON.parse(article.authorsJson)\n                      : article.authorsJson || [];\n\n                    return (\n                      <div key={article.id} className=\"group\">\n                        <Link href={`/article/${article.doi || article.id}`} className=\"block\">\n                          <h4 className=\"text-sm font-semibold text-blue-800 group-hover:text-blue-600 leading-snug mb-1 transition-colors\">\n                            {article.title}\n                          </h4>\n                        </Link>\n\n                        {authors.length > 0 && (\n                          <div className=\"text-xs text-gray-500 line-clamp-1 mb-1\">\n                            {authors.map(a => a.name).join(', ')}\n                          </div>\n                        )}\n\n                        <div className=\"flex items-center gap-2 text-[10px] text-gray-400 font-mono uppercase\">\n                          <span>{new Date(article.publishedAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>\n                          {article.articleType && (\n                            <>\n                              <span>â€¢</span>\n                              <span>{article.articleType}</span>\n                            </>\n                          )}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Page\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAEO,MAAM,WAAW;IACtB,OAAO;IACP,aAAa;AACf;AAEA,MAAM,OAAO;IACX,IAAI,UAAU,EAAE;IAChB,IAAI,iBAAiB,EAAE;IAEvB,IAAI;QACF,MAAM,CAAC,aAAa,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;YACpD,IAAA,sIAAgB;YAChB,IAAA,uIAAiB,IAAG,KAAK,CAAC,IAAM,EAAE;SACnC;QACD,UAAU;QACV,iBAAiB;IACnB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;IACxC;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAwC;;;;;;sCACtD,8OAAC;4BAAI,WAAU;;;;;;;;;;;;8BAGjB,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;sCACZ,QAAQ,MAAM,KAAK,kBAClB,8OAAC;gCAAI,WAAU;0CAAuB;;;;;yFAEtC,8OAAC;gCAAI,WAAU;0CACZ,QAAQ,GAAG,CAAC,CAAC,GAAG,sBACf,8OAAC;;0DACC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAG,WAAU;;4DAAuC;4DACzC,EAAE,MAAM;;;;;;;kEAEpB,8OAAC;wDAAI,WAAU;kEACZ,CAAC,EAAE,MAAM,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,sBACrB,8OAAC,0LAAI;gEAEH,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;gEAC1B,WAAU;;oEACX;oEACU,MAAM,MAAM;oEAAC;oEAAI,MAAM,KAAK;oEAAC;oEAAE,MAAM,IAAI;;+DAJ7C,MAAM,EAAE;;;;;;;;;;;;;;;;4CASpB,QAAQ,QAAQ,MAAM,GAAG,mBACxB,8OAAC;gDAAI,WAAU;;;;;;;uCAlBT,EAAE,EAAE;;;;;;;;;;;;;;;sCA2BtB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAqE;;;;;;oCAElF,eAAe,MAAM,KAAK,kBACzB,8OAAC;wCAAI,WAAU;kDAA+B;;;;;iGAE9C,8OAAC;wCAAI,WAAU;kDACZ,eAAe,GAAG,CAAC,CAAC;4CACnB,MAAM,UAAU,OAAO,QAAQ,WAAW,KAAK,WAC3C,KAAK,KAAK,CAAC,QAAQ,WAAW,IAC9B,QAAQ,WAAW,IAAI,EAAE;4CAE7B,qBACE,8OAAC;gDAAqB,WAAU;;kEAC9B,8OAAC,0LAAI;wDAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,GAAG,IAAI,QAAQ,EAAE,EAAE;wDAAE,WAAU;kEAC7D,cAAA,8OAAC;4DAAG,WAAU;sEACX,QAAQ,KAAK;;;;;;;;;;;oDAIjB,QAAQ,MAAM,GAAG,mBAChB,8OAAC;wDAAI,WAAU;kEACZ,QAAQ,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,EAAE,IAAI,CAAC;;;;;;kEAInC,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;0EAAM,IAAI,KAAK,QAAQ,WAAW,EAAE,kBAAkB,CAAC,SAAS;oEAAE,OAAO;oEAAS,KAAK;oEAAW,MAAM;gEAAU;;;;;;4DAClH,QAAQ,WAAW,kBAClB;;kFACE,8OAAC;kFAAK;;;;;;kFACN,8OAAC;kFAAM,QAAQ,WAAW;;;;;;;;;;;;;;;+CAlBxB,QAAQ,EAAE;;;;;wCAwBxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlB;uCAEe","debugId":null}}]
}