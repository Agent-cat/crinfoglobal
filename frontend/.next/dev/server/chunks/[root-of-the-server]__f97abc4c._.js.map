{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/utils/serverApi.js"],"sourcesContent":["\nconst BASE_URL = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:8000\";\nconst API_BASE = `${BASE_URL}/api`;\n\nexport async function getPublicVolumes() {\n  console.log('Fetching volumes from:', `${API_BASE}/content/public/volumes`);\n  const res = await fetch(`${API_BASE}/content/public/volumes`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch volumes\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getIssue(issueId) {\n  const res = await fetch(`${API_BASE}/content/public/issue/${issueId}`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch issue\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getArticle(articleId) {\n  const res = await fetch(`${API_BASE}/content/public/article/${encodeURIComponent(articleId)}`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch article\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getPublishedArticles() {\n  const res = await fetch(`${API_BASE}/content/articles/published`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch articles\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getLatestArticles() {\n  const res = await fetch(`${API_BASE}/content/public/articles/latest`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch latest articles\");\n  const data = await res.json();\n  return data.data;\n}\n\nexport async function getAllPublishedArticles() {\n  const res = await fetch(`${API_BASE}/content/public/articles/all`, {\n    next: { revalidate: 0 },\n  });\n  if (!res.ok) throw new Error(\"Failed to fetch all published articles\");\n  const data = await res.json();\n  return data.data;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,MAAM,WAAW,6DAAoC;AACrD,MAAM,WAAW,GAAG,SAAS,IAAI,CAAC;AAE3B,eAAe;IACpB,QAAQ,GAAG,CAAC,0BAA0B,GAAG,SAAS,uBAAuB,CAAC;IAC1E,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,uBAAuB,CAAC,EAAE;QAC5D,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,SAAS,OAAO;IACpC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,sBAAsB,EAAE,SAAS,EAAE;QACrE,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,WAAW,SAAS;IACxC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,wBAAwB,EAAE,mBAAmB,YAAY,EAAE;QAC7F,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,2BAA2B,CAAC,EAAE;QAChE,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,+BAA+B,CAAC,EAAE;QACpE,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,4BAA4B,CAAC,EAAE;QACjE,MAAM;YAAE,YAAY;QAAE;IACxB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/app/sitemap.js"],"sourcesContent":["import { getPublicVolumes, getAllPublishedArticles } from '../utils/serverApi';\n\nexport const dynamic = 'force-dynamic';\n\nexport default async function sitemap() {\n    const baseUrl = 'https://fei.crinfoglobal.com';\n\n    // Static routes\n    const routes = [\n        {\n            url: baseUrl,\n            lastModified: new Date(),\n        },\n        {\n            url: `${baseUrl}/volumes`,\n            lastModified: new Date(),\n        },\n    ];\n\n    try {\n        // 1. Fetch Volumes & Issues\n        const volumes = await getPublicVolumes();\n        const issueUrls = [];\n\n        if (Array.isArray(volumes)) {\n            volumes.forEach((vol) => {\n                if (vol.issues && Array.isArray(vol.issues)) {\n                    vol.issues.forEach((issue) => {\n                        issueUrls.push({\n                            url: `${baseUrl}/issue/${issue.id}`,\n                            lastModified: new Date(issue.updatedAt || new Date()),\n                        });\n                    });\n                }\n            });\n        }\n\n        // 2. Fetch Articles\n        // The user example shows article URLs using DOI: /article/10.63949/crinfo.v1i1.001\n        const articles = await getAllPublishedArticles();\n        const articleUrls = [];\n\n        if (Array.isArray(articles)) {\n            articles.forEach((article) => {\n                if (article.doi) {\n                    articleUrls.push({\n                        url: `${baseUrl}/article/${article.doi}`,\n                        lastModified: new Date(article.updatedAt || new Date()),\n                    });\n                } else if (article.id) {\n                    // Fallback to ID if no DOI, though the user requested DOI style.\n                    // However based on user sample, only DOI ones are shown.\n                    // I will verify if I should include ID based URLs. \n                    // The user example ONLY shows DOI. I'll prioritize DOI.\n                }\n            });\n        }\n\n        return [...routes, ...issueUrls, ...articleUrls];\n    } catch (error) {\n        console.error('Sitemap generation failed:', error);\n        return routes;\n    }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,UAAU;AAER,eAAe;IAC1B,MAAM,UAAU;IAEhB,gBAAgB;IAChB,MAAM,SAAS;QACX;YACI,KAAK;YACL,cAAc,IAAI;QACtB;QACA;YACI,KAAK,GAAG,QAAQ,QAAQ,CAAC;YACzB,cAAc,IAAI;QACtB;KACH;IAED,IAAI;QACA,4BAA4B;QAC5B,MAAM,UAAU,MAAM,IAAA,wIAAgB;QACtC,MAAM,YAAY,EAAE;QAEpB,IAAI,MAAM,OAAO,CAAC,UAAU;YACxB,QAAQ,OAAO,CAAC,CAAC;gBACb,IAAI,IAAI,MAAM,IAAI,MAAM,OAAO,CAAC,IAAI,MAAM,GAAG;oBACzC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC;wBAChB,UAAU,IAAI,CAAC;4BACX,KAAK,GAAG,QAAQ,OAAO,EAAE,MAAM,EAAE,EAAE;4BACnC,cAAc,IAAI,KAAK,MAAM,SAAS,IAAI,IAAI;wBAClD;oBACJ;gBACJ;YACJ;QACJ;QAEA,oBAAoB;QACpB,mFAAmF;QACnF,MAAM,WAAW,MAAM,IAAA,+IAAuB;QAC9C,MAAM,cAAc,EAAE;QAEtB,IAAI,MAAM,OAAO,CAAC,WAAW;YACzB,SAAS,OAAO,CAAC,CAAC;gBACd,IAAI,QAAQ,GAAG,EAAE;oBACb,YAAY,IAAI,CAAC;wBACb,KAAK,GAAG,QAAQ,SAAS,EAAE,QAAQ,GAAG,EAAE;wBACxC,cAAc,IAAI,KAAK,QAAQ,SAAS,IAAI,IAAI;oBACpD;gBACJ,OAAO,IAAI,QAAQ,EAAE,EAAE;gBACnB,iEAAiE;gBACjE,yDAAyD;gBACzD,oDAAoD;gBACpD,wDAAwD;gBAC5D;YACJ;QACJ;QAEA,OAAO;eAAI;eAAW;eAAc;SAAY;IACpD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;IACX;AACJ","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/crinfoglobal/frontend/app/sitemap--route-entry.js"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport { default as handler } from \"./sitemap.js\"\nimport { resolveRouteData } from 'next/dist/build/webpack/loaders/metadata/resolve-route-data'\n\nconst contentType = \"application/xml\"\nconst cacheControl = \"public, max-age=0, must-revalidate\"\nconst fileType = \"sitemap\"\n\nif (typeof handler !== 'function') {\n    throw new Error('Default export is missing in \"./sitemap.js\"')\n}\n\nexport async function GET() {\n    const data = await handler()\n    const content = resolveRouteData(data, fileType)\n\n    return new NextResponse(content, {\n        headers: {\n            'Content-Type': contentType,\n            'Cache-Control': cacheControl,\n        },\n    })\n}\n\nexport * from \"./sitemap.js\"\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,cAAc;AACpB,MAAM,eAAe;AACrB,MAAM,WAAW;AAEjB,IAAI,OAAO,2HAAO,KAAK,YAAY;IAC/B,MAAM,IAAI,MAAM;AACpB;AAEO,eAAe;IAClB,MAAM,OAAO,MAAM,IAAA,2HAAO;IAC1B,MAAM,UAAU,IAAA,yNAAgB,EAAC,MAAM;IAEvC,OAAO,IAAI,gJAAY,CAAC,SAAS;QAC7B,SAAS;YACL,gBAAgB;YAChB,iBAAiB;QACrB;IACJ;AACJ","debugId":null}}]
}